(window.jpf=window.jpf||[]).push([[1],{21:function(e,t,n){var r=n(22),o=n(23),i=n(11),a=n(24);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},22:function(e,t,n){var r=n(12);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},23:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},24:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},25:function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},26:function(e,t,n){var r=n(27)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},27:function(e,t,n){var r=n(28).default;function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function m(){}function v(){}function g(){}var h={};l(h,s,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(L([])));w&&w!==n&&i.call(w,s)&&(h=w);var E=g.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,a){function s(){return new t((function(n,s){!function n(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}(o,a,n,s)}))}return n=n?n.then(s,s):s()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function L(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,l(E,"constructor",g),l(g,"constructor",v),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,c,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),l(E,u,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},28:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},30:function(e,t,n){"use strict";n.r(t);var r=n(21),o=n.n(r),i=n(5),a=n.n(i),s=n(6),c=n.n(s),u=n(25),l=n.n(u),d=n(26),f=n.n(d),p=n(0),m=n(2),v=n(4),g=n(3),h=n(1),y=function(e){return Function("'use strict'; return (".concat(e,")"))()},w=function(e){return Array.isArray(e)},E=function(){var e=l()(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=performance.now(),e.abrupt("return",m.a.require("axios").then(function(){var e=l()(f.a.mark((function e(o){var i,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t+"/segment",e.prev=1,e.next=4,o.get(i,{params:n});case 4:return a=e.sent,s=performance.now(),h.a.requestSegment(r,s),e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Promise.reject(new Error(e.t0.message)));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=new(function(){function e(){a()(this,e)}var t;return c()(e,[{key:"requestEvolok",value:(t=l()(f.a.mark((function e(t,n,r,o){var i,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.segment,a=void 0===i||i,!o&&!a){e.next=3;break}return e.abrupt("return",E(t,n).then((function(e){return v.a.info("Rtim: Segments Calling /segments"),{segments:e.segments}})).catch((function(e){return Promise.reject(e)})));case 3:if(s=r.segments,v.a.info("Rtim: Segments __PROVIDER__.rtim.segments"),!w(s)){e.next=7;break}return e.abrupt("return",{segments:s});case 7:return e.abrupt("return",{segments:y(s)});case 8:case"end":return e.stop()}}),e)}))),function(e,n,r,o){return t.apply(this,arguments)})},{key:"mergeSegments",value:function(e,t){var n=t.segment;if(!(void 0===n||n))return p.p&&e.segments.push("Rtim_Segment"),v.a.info("Rtim: no merge segment return __PROVIDER__ segments"),e.segments;var r=m.b.lookup(p.C).segments,i=void 0===r?[]:r,a=e.segments,s=void 0===a?[]:a;return w(i)||(i=y(i)),p.p&&i.push("Rtim_Segment"),v.a.info("Rtim: merge segment backEnd and call"),o()(new Set([].concat(o()(i),o()(s))))}},{key:"modifySegment",value:function(e){var t=g.a.userType,n=e;if("suscriptor"===t||"trial"===t){var r=e.find((function(e){return e===p.v})),i=e.find((function(e){return e===p.u})),a=e.find((function(e){return e===p.x})),s=e.find((function(e){return e===p.w})),c=e.find((function(e){return e===p.s})),u=e.find((function(e){return e===p.r}));(n=e.filter((function(e){return e!==r})).filter((function(e){return e!==i})).filter((function(e){return e!==a})).filter((function(e){return e!==s})).filter((function(e){return e!==c})).filter((function(e){return e!==u}))).push("UserType-SuscriptorV2")}if("registrado"===t){var l=e.find((function(e){return e===p.v}));(n=e.filter((function(e){return e!==l}))).push("UserType-RegistradoV2")}return o()(new Set(n))}}]),e}()),b=n(7),x=function(e,t){window.vocento.__PROVIDER__.rtim.result=e||t,window.vocento.__PROVIDER__.paywall.result=e||t},R=function(e,t,n,r){window.vocento.__PROVIDER__.rtim.activeMeter.count=e||n,window.vocento.__PROVIDER__.rtim.activeMeter.max=t||r,window.vocento.__PROVIDER__.paywall.count=e||n,window.vocento.__PROVIDER__.paywall.max=t||r},S=function(e,t){window.vocento.__PROVIDER__.paywall.isExtra=e||t},P=function(e,t){window.vocento.__PROVIDER__.paywall.extra=e||t},L=function(){document.querySelector(".content-exclusive-bg").remove()},I=function(e){var t=e.newSegment,n=e.logged,r=t,o=e.isExtra?"isExtraTrue":"isExtraFalse";t.push(o);var i=t.find((function(e){return e===p.v}));if(!n){var a=t.find((function(e){return e===p.u})),s=t.find((function(e){return e===p.x})),c=t.find((function(e){return e===p.w})),u=t.find((function(e){return e===p.s})),l=t.find((function(e){return e===p.r}));return(r=r.filter((function(e){return e!==i})).filter((function(e){return e!==a})).filter((function(e){return e!==s})).filter((function(e){return e!==c})).filter((function(e){return e!==u})).filter((function(e){return e!==l}))).push(p.z),r}return(r=t.filter((function(e){return e!==i}))).push(p.y),r},k=n(8),O=function(e){return function(e){return!!e&&e.constructor===Object}(e)&&0===Object.entries(e).length};h.a.rtimLoadOnPage();var D=window.EV;!function(){var e=!!new URLSearchParams(window.location.search).get("left"),t=!!new URLSearchParams(window.location.search).get("last"),n=!!new URLSearchParams(window.location.search).get("limit"),r=!!new URLSearchParams(window.location.search).get("premium"),o=!!new URLSearchParams(window.location.search).get("additional_segment");if(e||t||n||r||o){var i=!!new URLSearchParams(window.location.search).get("logged"),a=!!new URLSearchParams(window.location.search).get("extra"),s=!!new URLSearchParams(window.location.search).get("isExtra"),c=!!new URLSearchParams(window.location.search).get("result"),u=Number(new URLSearchParams(window.location.search).get("count"))||!1,l=Number(new URLSearchParams(window.location.search).get("max"))||!1;!function(e,t,n,r,o,i){e&&(S(t,"No"),R(n,r,4,5),x(o,"ALLOW_ACCESS"),i&&R(n,r,9,10),L())}(e,s,u,l,c,i),function(e,t,n,r,o,i){e&&(S(t,"No"),R(n,r,5,5),x(o,"ALLOW_ACCESS"),i&&R(n,r,10,10),L())}(t,s,u,l,c,i);var d=window.vocento.__PROVIDER__.rtim.segments;!function(e,t){if(e){var n=e.split(",");if(w(t))t.push(n),window.vocento.__PROVIDER__.rtim.segments=t.flat();else{var r=y(t);r.push(n),window.vocento.__PROVIDER__.rtim.segments=r.flat()}}}(o,d),function(e){var t=e.limitExceeded,n=e.segments,r=e.isExtra,o=e.extra,i=e.logged,a=e.result;if(t){var s=n;w(n)||(s=y(n)),s=I({newSegment:s,logged:i,isExtra:!1}),window.vocento.__PROVIDER__.rtim.segments=s.filter((function(e){return"isExtraTrue"!==e})).flat(),S(r,"No"),P(o,"No"),x(a,"REQUIRE_LOGIN"),i&&x(a,"REQUIRE_ENTITLEMENT");var c=document.querySelector(".paragraph-titles-exclus");c&&(c.children[0].innerHTML="Has alcanzado tu límite de navegación este mes")}}({limitExceeded:n,segments:d,isExtra:s,extra:a,logged:i,result:c}),function(e){var t=e.premiumContent,n=e.segments,r=e.isExtra,o=e.extra,i=e.logged,a=e.result;if(t){var s=n;w(n)||(s=y(n)),s=I({newSegment:s,logged:i,isExtra:!0}),window.vocento.__PROVIDER__.rtim.segments=s.filter((function(e){return"isExtraFalse"!==e})).flat(),S(r,"Yes"),P(o,"Yes"),x(a,"REQUIRE_LOGIN"),i&&x(a,"REQUIRE_ENTITLEMENT")}}({premiumContent:r,segments:d,isExtra:s,extra:a,logged:i,result:c})}}();var C=Object.preventExtensions({version:k.a,authorizationParams:null,evolokAuthResponse:null,sessionHasFunnelParams:!1,forceCallSegment:!1,check:function(e,t,n,r){var o=this,i=m.b.lookup(p.C);i&&v.a.object("__PROVIDER__.rtim",i),O(i)&&(i.result="ALLOW_ACCESS",this.forceCallSegment=!0),g.a.userType=r,h.a.setUserInfo(g.a.vocUserUID,g.a.gigyaUID,g.a.userType),C.initEvolok(t,g.a.cookieDomain),v.a.info("Version ".concat(this.version));var a=Object.assign(e,g.b,{userType:r});return p.p&&(a.Origen="rtim"),this.authorizationParams=a,C.getEvolokCookiesIds().then((function(a){var s=Object.assign(e,{userType:r},{ev_sid:a.ev_sid},{ev_did:a.ev_did});return _.requestEvolok(t.serviceUrl,s,i,o.forceCallSegment).then((function(e){o.evolokAuthResponse=e,i.segments=_.mergeSegments(e,s),i.segments=_.modifySegment(i.segments),i.sessionId=a.ev_sid;var r=Object.assign(i,{sessionKeys:a});return C.dispatchEvolokAuthCustomEvent(r),v.a.table(i.segments),{configWidgets:t,providerRtim:i,cookieDomain:n}}))}))},initEvolok:function(e,t){var n=e.serviceUrl,r=e.productUrl;v.a.info("EV.init cookieDomain "+t),D.Em.init({url:n,pmUrl:r,sidCookieDomain:t})},getEvolokCookiesIds:function(){return new Promise((function(e,t){v.a.info("Rtim: Reading ev_sid and ev_did from cookie");var n=b.a.getCookieValueByName("ev_sid"),r=b.a.getCookieValueByName("ev_did");n&&r&&(h.a.setEvolokCookies("ev_sid",n),h.a.setEvolokCookies("ev_did",r),e({ev_sid:n,ev_did:r}));t(new Error("Rtim:Can not get the ev_sid or ev_did"))}))},dispatchEvolokAuthCustomEvent:function(e){setTimeout((function(){var t=function(e){var t;return"function"==typeof CustomEvent?t=new CustomEvent("ev.ad.authorize",{detail:e,bubbles:!0}):(t=document.createEvent("CustomEvent")).initCustomEvent("ev.ad.authorize",!1,!1,e),t}(e);h.a.requestEvolokLoadOnPage(),window.dispatchEvent(t)}),0)},hasFunnelParameter:function(){var e=this.getUserProperties();return!(!e||!e.funnel||""===e.funnel)&&(v.a.info("The user has a abandoned cart"),v.a.object("user Data",e),this.sessionHasFunnelParams=!0,this.sessionHasFunnelParams)},getUserProperties:function(){var e=this.evolokAuthResponse;return e&&e.userProperties?e.userProperties:null},listenWidgetRendered:function(){var e=this;v.a.info("Listening ".concat(p.a)),m.b.on(p.a,(function(t){v.a.info("".concat(p.a," received")),v.a.object("widgetInfo",t.detail),e.cleanFunnel()}))},cleanFunnel:function(){var e=this;v.a.info("cleanFunnel()");var t=this.getUserProperties();if(this.hasFunnelParameter(),this.sessionHasFunnelParams&&"none"!==t.funnel||p.b)if(this.isOlderFunnel(t.funnelDate)){p.b&&v.a.info("Forcing Clean Funnel"),this.authorizationParams.funnel="none",v.a.info("Setting funnel session parameter to none");var n=JSON.stringify(this.authorizationParams);D.Em.authorize(n,(function(t){v.a.info("Funnel Clean - SUCCESS"),e.evolokAuthResponse=t}),(function(){return v.a.error("Funnel Clean Authorization - Something was wrong"),new Error("RTIM: authorization - Something was wrong")}))}else v.a.info("funnel is valid yet");else v.a.info("nothing to clear, funnel is none or has not funnel params")},isOlderFunnel:function(e){var t=new Date(e);return t.setDate(new Date(e).getDate()+p.c),new Date>t}}),T=C,A=n(9),V=n.n(A),B=window.EV,N=function(e){var t=document.querySelector(".btn-close");if(t&&"vocVtmInfo"in t.dataset){var n=t.dataset.vocVtmInfo;(n.includes("cerrar-aspa")||n.includes("popup-btn-close"))&&t.addEventListener("click",(function(){return function(e){B.Em.publish(e)}(e)}))}},U=new(function(){function e(){a()(this,e)}return c()(e,[{key:"listenSwgButtonRendered",value:function(){v.a.info("Listening SwG Button");var e=document.querySelectorAll('[id^="swg-button-"]');if(e.length>0){var t=[];e.forEach((function(e){var n={};n.id=e.id,n.sku=e.dataset.swgSku||"",t.push(n)})),function(e){v.a.info("SubscribeWithGoogle executes. Content:"+JSON.stringify(e)),m.b.promised("rtim:swg:button_rendered",JSON.stringify(e))}(t)}}}]),e}()),j=window.EV,F=Object.preventExtensions({notifierInfo:!1,show:function(){var e=this;v.a.info("Widget: waiting for ev.notifier.opened"),j.Em.on(j.Em.Event.NOTIFIER_OPENED,(function(t){v.a.info("Widget: ".concat(p.g," received")),e.fireEventOnVisibleWidget(t,p.f)})),j.Em.on(j.Em.Event.PAYWALL_OPENED,(function(t){v.a.info("Widget: ".concat(p.i," received")),e.fireEventOnVisibleWidget(t,p.h)})),j.Em.on(j.Em.Event.PRODUCT_SELECTION_LOADED,(function(){}))},fireCTAEvent:function(e){v.a.info("Widget: notifier event received, show message in 2 seconds"),setTimeout((function(){j.Em.publish("ev.notifier.showCTA")}),2e3)},fireEventOnVisibleWidget:function(e,t){h.a.widgetOpenedLoadOnPage(),m.b.trigger(p.a,e),setTimeout((function(){U.listenSwgButtonRendered();var e=document.querySelectorAll("[data-voc-rtim-type]");e.length>0&&(N(t),v.a.info("Widget: with data-widget-type found"),e.forEach((function(e){var t=document.querySelectorAll("[data-voc-rtim-action]"),n=V()(t,1)[0];n&&e===n&&(e.dispatchEvent(new CustomEvent("onvisible",{bubbles:!0})),v.a.info("Widget: rtim:onvisible event fired"))})))}),100)}}),W=new(function(){function e(){a()(this,e)}return c()(e,[{key:"listenWidgetRendered",value:function(e){var t=this;v.a.info("Listening Progressive-form"),e.on(p.a,(function(n){var r;((null===(r=n.detail.detail)||void 0===r?void 0:r.content)||"").includes("progressive-form")&&t.execute(e)}))}},{key:"execute",value:function(e){var t=this;v.a.info("Progressive Profile executes"),e.trigger(p.j),e.when(p.n).then((function(){t.someAnalyticStuff()})),e.on(p.m,(function(){t.someAnalyticStuff()})),e.on(p.k,(function(){t.someAnalyticStuff()})),e.on(p.l,(function(){document.getElementsByClassName("grip-header")[0].style.display="none",document.getElementById("rtim-progressive-profile-success").style.display="block"}))}},{key:"someAnalyticStuff",value:function(){}}]),e}()),M=new(function(){function e(){a()(this,e)}return c()(e,[{key:"listenWidgetRendered",value:function(e){var t=this;v.a.info("Listening Progressive-form"),e.on(p.a,(function(n){var r,o=(null===(r=n.detail.detail)||void 0===r?void 0:r.content)||"",i=o.indexOf("data-widget-id");if(o.includes("data-widget-id")){var a=o.substr(i+16,24)||null;null!==a&&t.execute(e,a)}}))}},{key:"execute",value:function(e,t){var n=this;v.a.info("Prospect executes"),e.when("prospect:ready").then((function(){e.trigger("vocento.vocuser:prospect:render_widget_on_demand",t)})),e.on("vocento.vocuser:prospect:gdpr_modal_shown",(function(){var e=document.getElementsByClassName("grip-header")[0];n.addRtimProspectGdprButtonLogic(t,e),e.style.display="none"})),e.on("vocento.vocuser:prospect:widget_subscription_general_error",(function(){n.addRtimProspectErrorButtonLogic(t)})),e.on("vocento.vocuser:prospect:widget_subscription_subscribed_error",(function(){n.addRtimProspectSubscribedErrorButtonLogic(t)})),e.on("vocento.vocuser:prospect:widget_subscription_ok",(function(){n.addRtimProspectOkButtonLogic(t)})),e.on("vocento.vocuser:prospect:gdpr_modal_shown",(function(){n.addRtimProspectGdprButtonLogic(t)}))}},{key:"addRtimProspectErrorButtonLogic",value:function(e){for(var t=document.querySelectorAll("[data-widget-id]"),n=0,r=t.length;n<r;n++)t[n].dataset.widgetId.includes(e)&&(document.getElementById("rtim-prospect-error").style.display="block",document.getElementById("rtim-prospect-subscribed-error").style.display="none",document.getElementById("rtim-prospect-gdpr").style.display="none",document.getElementById("rtim-prospect-subscribed-success").style.display="none")}},{key:"addRtimProspectGdprButtonLogic",value:function(e){for(var t=document.querySelectorAll("[data-widget-id]"),n=0,r=t.length;n<r;n++)t[n].dataset.widgetId.includes(e)&&(document.getElementById("rtim-prospect-error").style.display="none",document.getElementById("rtim-prospect-subscribed-error").style.display="none",document.getElementById("rtim-prospect-gdpr").style.display="block",document.getElementById("rtim-prospect-subscribed-success").style.display="none")}},{key:"addRtimProspectOkButtonLogic",value:function(e){for(var t=document.querySelectorAll("[data-widget-id]"),n=0,r=t.length;n<r;n++)t[n].dataset.widgetId.includes(e)&&(document.getElementById("rtim-prospect-subscribed-success").style.display="block",document.getElementById("rtim-prospect-subscribed-error").style.display="none",document.getElementById("rtim-prospect-error").style.display="none",document.getElementById("rtim-prospect-gdpr").style.display="none")}},{key:"addRtimProspectSubscribedErrorButtonLogic",value:function(e){for(var t=document.querySelectorAll("[data-widget-id]"),n=0,r=t.length;n<r;n++)t[n].dataset.widgetId.includes(e)&&(document.getElementById("rtim-prospect-subscribed-success").style.display="none",document.getElementById("rtim-prospect-subscribed-error").style.display="block",document.getElementById("rtim-prospect-error").style.display="none",document.getElementById("rtim-prospect-gdpr").style.display="none")}}]),e}()),q=n(10),G=window.console,z=G.log,H=G.error;h.a.consentShow(!1),m.b.when("consent:empty").then((function(){h.a.consentShow(!0)})).catch((function(e){p.q&&H("RTIM: ".concat(e))})),m.a.ready.then((function(){h.a.setLibraryInfo(k.a),h.a.setSiteInfo(g.a.site,g.b.url,g.a.env);var e=m.b.lookup(p.B),t=m.b.lookup(p.A),n=m.b.lookup("vocento.site").tlddomain;v.a.setEnv(g.a.env),v.a.forceLogs(),"pro"!==g.a.env&&(n=".".concat(n)),m.c.rtim={},window.addEventListener("ev.notifier.need.render",(function(e){F.fireCTAEvent(e)})),window.addEventListener("ev.notifier.nocontent",(function(){v.a.info("widget contentent is empty")}));var r=m.b.getUserType();v.a.info("userType=".concat(r)),T.check(t,e,n,r).then((function(e){h.a.setRequestEvolok(e.providerRtim),m.b.promised("rtim:ready",e)})).catch((function(e){return v.a.error(e)})),m.b.when("rtim:ready").then((function(e){v.a.info("rtim: We call the widget service"),F.show(e.providerRtim),T.listenWidgetRendered(m.b),W.listenWidgetRendered(m.b),M.listenWidgetRendered(m.b),q.a.listenWidgetShown()})),m.c.rtim.paywallMessageDebug=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(m.c.__PROVIDER__.rtim&&m.c.__PROVIDER__.paywall){var t=m.c.__PROVIDER__.rtim.activeMeter.max,n=m.c.__PROVIDER__.rtim.activeMeter.count,r=m.c.__PROVIDER__.rtim.result,o=m.c.__PROVIDER__.paywall.isExtra,i=[{max:t,count:n,left:t-n,result:r,isExtra:o}];i(i),z("max=".concat(t,", count=").concat(n,", result=").concat(r)),e===n&&n<t?z("Debería mostrarse el cartel de te quedan ".concat(e)):t!==n?(t<n||"REQUIRE_ENTITLEMENT"===r)&&z("debería mostrarse el cartel de Limit Exceed"):z("debería mostrarse el cartel de Last")}else z("some __PROVIDER__ can't be found")}}))}}]);
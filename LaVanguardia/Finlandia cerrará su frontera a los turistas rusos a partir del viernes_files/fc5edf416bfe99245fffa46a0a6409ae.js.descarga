!function(){console.log("Loading Wemass Tag GODO~WEB~LA VANGUARDIA~traoBiHw");let e,t,n,a,s,i,o,r,l,d,c,p,u,m,g,f={},h=".wm-decorations",b=".wm-volatile",w=".wm_ext-Visor",y=".wm_ext-skipOffset",x=".wm_ext-Message",v=".wm-sound",_=".wm-closebutton",k=".wm-playbutton",$=".wm-progresscontainer",S=".wm-progress",C=".wm_ext-Logo",j="video.jw-video",T="iframe.jw-vpaid-iframe",A="div.jw-wrapper",I="div.jw-media",E="div.jw-aspect",D=!0,L=Math.floor(100*Math.random()),M=performance.now().toString().replace(".",""),O=!1,q=O?"surf":"outstream",B=!1,N=`_wmass_${M}`,R=N,P=window.self,z=[],F=!1,H=2e3,U="vast",J="https://prebid.adnxs.com/pbc/v1/cache",W=[],V=[],X=!1,G=!1,K=!0,Q=!0,Z=!1,Y=0,ee=0,te=!1,ne="traoBiHw",ae=18208779,se=20363850,ie=20363853,oe=!1,re="0LJwiF9sIb",le=293335,de={sunmedia_tag:()=>{let e="b2cdd7e3-ca18-494a-bf2a-833de465b3a6/b2cdd7e3-ca18-494a-bf2a-833de465b3a6",t=!1,n={},a=!0===Z&&0===Zt||!1===Z||!0===ye.m2;n["data-gdpr-applies"]="${gdpr}",n["data-consent-string"]="${gdpr_consent}",a?ke&&(t=!0):t=!0,t||"string"!==Je(e)?Ze():(2===xe&&p.getTCData&&p.getTCData.tcString&&(n["data-gdpr-applies"]="1",n["data-consent-string"]=`${p.getTCData.tcString}`),Yt(`loading sunmedia HTML passbak:${e} con gdpr: ${JSON.stringify(n)}`),He(`https://static.sunmedia.tv/integrations/${e}.js`,"sunmediaTag",u,{attribs:n}))},appnexuslast_tag:()=>{Te.push("appnexusLast"),g&&(g.style.display="block"),Bt()}},ce={sunmediamulti_tag:()=>{let e="cbd6f718-bebb-4360-9f86-850214800f81/cbd6f718-bebb-4360-9f86-850214800f81",t={"data-gdpr-applies":"${gdpr}","data-consent-string":"${gdpr_consent}"};ke||"string"!==Je(e)||(2===xe&&p.getTCData&&p.getTCData.tcString&&(t["data-gdpr-applies"]="1",t["data-consent-string"]=`${p.getTCData.tcString}`),Yt("loading MULTI sunmedia HTML multi passbak con gdpr: ",JSON.stringify(t)),He(`https://static.sunmedia.tv/integrations/${e}.js`,"sunmediaTag",u,{attribs:t}))}},pe=!0,ue="169CF32B6B5E6F57091B8B7CF3AA4C7C",me=[],ge=[],fe=[],he=[],be=[],we=[],ye={},xe=1,ve=!1,_e=!0,ke=!1,$e=!1,Se=!1,Ce={timer:null,timeout:10100,noMore:!1,engines:{}},je=[],Te=["appnexus","richaudience"],Ae=!1;P.pbjs=P.pbjs||{},P.pbjs.que=P.pbjs.que||[];try{u=window.top,m=P.id?P.id:P.frameElement.id,r=m?u.document.getElementById(m):P.frameElement}catch(e){if(_e=!1,u=P,"undefined"!=typeof $sf&&void 0!==$sf.ext)Se=$sf;else try{$e=window.parent.context||!1}catch(e){}(Se||$e)&&(ke=!0)}let Ie,Ee=void 0!==u.orientation||-1!==navigator.userAgent.indexOf("IEMobile"),De=(u.innerWidth||u.document.documentElement&&0!==u.document.documentElement.clientWidth&&u.document.documentElement.clientWidth||u.document.getElementsByTagName("body")[0].clientWidth,u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame||u.msRequestAnimationFrame||function(e){return u.setTimeout(e,1e3/60)}),Le=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame||u.webkitCancelRequestAnimationFrame||u.msCancelAnimationFrame||function(e){clearTimeout(e)},Me="IntersectionObserver"in u,Oe={},qe=e=>{let t=!1,n=()=>{let{safeframeHeight:t,safeframeWidth:n,marginLeft:a,availableExpansionDown:s,availableExpansionRight:i,availableExpansionLeft:o,deviceWidth:r}=Se?(()=>{let{self:{h:e,w:t,l:n},exp:{b:a,r:s,l:i},win:{w:o}}=Se.ext.geom();return{safeframeHeight:e,safeframeWidth:t,marginLeft:n,availableExpansionDown:a,availableExpansionRight:s,availableExpansionLeft:i,deviceWidth:o}})():(()=>{let{boundingClientRect:{height:e,left:t,right:n,width:a}={},rootBounds:{left:s,right:i,width:o}={}}=$e.initialIntersection,r=o-s-a-t;return{safeframeHeight:e,safeframeWidth:a,marginLeft:t,availableExpansionDown:1e3,availableExpansionRight:o-r-a,availableExpansionLeft:r,deviceWidth:o}})(),l=i-2*a;if(Se){let a=e.offsetHeight,i=a-25,o=e.offsetWidth+l,r=(Ae?3*o/4+45:l*i/n+a)-t;if(r<0)return;r>s&&(r=s),Ae&&(Ie=o,document.body.style.width=`${o}px`,document.body.style.height=`${r+1}px`);let d={b:r,r:l<0?0:l};Yt({config:d});try{Se.ext.expand(d)}catch(e){Yt(e.message)}}else if($e&&"function"===Je($e.requestResize)){let a=P.parent.document.querySelector("iframe"),i=e.offsetHeight,o=i-25,r=n+l,d=(Ae?3*r/4+45:l*o/n+i)-t;if(d<0)return;d>s&&(d=s),Ae&&(Ie=r,a.style.width=`${r}px`,a.style.height=`${d+1}px`,document.body.style.width=`${r}px`,document.body.style.height=`${d+1}px`);try{$e.requestResize(r,d)}catch(e){Yt(e.message)}}},a=e=>{(t&&e||!t)&&(Se.ext.collapse(),t=!1,setTimeout(n,0))},s=function(e,n){Ae||(en(Se.ext.status()),en(e),Yt(n)),"geom-update"===e&&a(),"expanded"===e&&(t=!0)};if(Ae){if(Se){let e=e=>{en("Ejecutando expand"),t||o.call(this,e)},n=e=>{en("Ejecutando collapse"),t||r.call(this,e)},a=(e,t)=>{en(`Ejecutando Buffer de Amp$sf.ext.register. Hay ${je.length} metodos`),en(Se.ext.status()),en(e),Yt(t);for(let n of je)"function"===Je(n)&&n.call(this,e,t)},i=Se.ext.register,o=Se.ext.expand,r=Se.ext.collapse,l=!1;je.push(s),Se.ext.collapse=n,Se.ext.expand=e,Se.ext.register=function(){let e=!0,[t,n,a]=arguments;if("function"===Je(a))if(l){let t=a.toString();for(let n of je){n.toString()===t&&(e=!1)}e&&je.push(a)}else l=!0,i(t,n,a)},Se.ext.register(300,1,a)}else if($e){let e=e=>{let{intersectionRatio:a}=e.pop();0===a&&(t(),n())},t=$e.observeIntersection(e)}}else if(Se){let e=Se.ext.status();en(e),Se.ext.register(300,1,s)}},Be=(e,t="GET",n=(()=>{}))=>{if("string"===Je(e)&&e.length>0){return new function(a=!0){ye.forceTelemetryXhr&&(a=!1);let s,i,o={"Content-Type":"text/plain;charset=UTF-8"},r=()=>{for(let e in o){let t=o[e];a?i.headers.has(e)||i.headers.append(e,t):s.setRequestHeader(e,t)}},l=()=>{s=((e="GET",t)=>{let n=!1;return"string"===Je(t)&&t.length>0&&(n=new XMLHttpRequest,"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest&&(n=new XDomainRequest,n.open(e,t))),n})(t,e),s.withCredentials=!0,s.onreadystatechange=()=>{if(4==s.readyState){let e=s.getAllResponseHeaders(),t=new Map;if("string"===Je(e)){let n=e.split("\r\n");for(let e of n){let[n,a]=e.split(": ");a&&!t.has(n)&&t.set(n,a)}}n({body:s.response,headers:t})}},r()};this.addHeaders=e=>{if("array"!==Je(e))throw new Error(`header invalido, ${e}`);if(e.length>0)for(let[t,n=!0]of e)o[t]=n},this.rmHeader=e=>{delete o[e]},this.send=t=>{a?(r(),Je("string"===t&&t.length>0)&&(i.body=t),s(e,i).then(n)):(l(),s.send(t))},a&&(s=fetch,i={method:t,headers:new Headers,mode:"cors",cache:"no-cache",credentials:"include",referrerPolicy:"unsafe-url"})}("fetch"in window)}throw new Error("fallo al crear un fetcher, no se ha indicado una url")},Ne=(e,t="p")=>{let n=[];if("html"===Je(e))for(let a of e.children)a.nodeName.toLowerCase()===t&&n.push(a);return n},Re=()=>{let e={};if("object"===Je(P.__wmass)){let{gdpr:t,gdpr_consent:n,addtl_consent:a,gd_kv:s="",hl_pem:i}=Gt;if(!_e&&"string"===Je(n)&&n.length>0&&"${GDPR_CONSENT}"!==n&&(fromGam=!0,u.__wmass.consentData||(u.__wmass.consentData={}),p=u.__wmass.consentData,xe=2,p.getTCData={tcString:n}),"string"===Je(s)&&s.length>0&&(Yt("encontradas keyvalues de publisher ",s),e.gd_kv=[s]),"string"===Je(i)&&i.length>0){let t=i.split(","),n=["37644","37648","38045","38100","37653","38044","75683"],a=[];for(let e of t)n.indexOf(e)>-1&&-1===a.indexOf(e)&&a.push(e);Yt("encontradas keyvalues de publisher ",a),e.permutive||(e.permutive=[]),e.permutive.push(...a)}}Ht(e)},Pe=e=>{if(!0===pe){const t={complete:1,ver:"1.0",nodes:[{asi:"wemass.com",sid:ue,hp:1}]};switch(e){case"prebid":case"appnexus":return{validation:"strict",config:t};case"tam":return t;case"vast":return`schain=1.0,1!wemass.com,${ue},1,,,`}}return!1},ze=(e,t={})=>{let n="string"===Je(e);if(n&&(e=t.useNs?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)),null!=typeof t)for(let n in t)if("string"===Je(n)){let a=t[n],s=Je(a);switch(n){case"T":e.appendChild(document.createTextNode(a));break;case"com":e.appendChild(document.createComment(a));break;case"Ct":e.style.cssText=a;break;case"Cn":if("string"===s||"array"===s){let t,n=[];if("string"===s?t=[a]:"array"===s&&(t=a),"array"===Je(t))for(let e of t)"string"===Je(e)&&("."===e.charAt(0)&&(e=e.substr(1)),n.push(e));n.length>0&&e.classList.add(...n)}break;case"H":e.innerHTML=a;break;case"St":P.attachEvent&&!P.opera?e.styleSheet.cssText=a:ze(e,{T:a});break;default:"useNs"!==n&&(t.useNs?e.setAttributeNS(null,n,a):e.setAttribute(n,a))}}if(n)return e},Fe=()=>{let e="wmsstst",t=Xt.search;if(-1===t.indexOf(e))return{};let n=t.split("&"),a={};for(let t of n)if(-1!==t.indexOf(e))if(t===e)a.t2=!0;else{let[e,n]=t.replace("wmsstst.","").split("=");0===e.indexOf("key.")?(e=e.replace("key.",""),a.keywords||(a.keywords={}),a.keywords[e]||(a.keywords[e]=[]),-1===a.keywords[e].indexOf(n)&&a.keywords[e].push(n)):("true"===n&&(n=!0),"string"===Je(n)&&a[e]?("string"===Je(a[e])&&(a[e]=[a[e]]),a[e].push(n)):a[e]=n)}return Yt("parametros wemass detectados",a),a},He=(e="about:blank",t="asyncScript",n=P,a={})=>{let s={src:e,async:"async",Cn:[t]},{attribs:i={},inside:o=!1,side:r=!1}=a;if("object"===Je(i))for(let e in i)s[e]||(s[e]=i[e]);let l=ze("script",s);"html"===Je(r)?r.parentNode.insertBefore(l,r):"html"===Je(o)?o.appendChild(l):(n.document.body||n.document.head).appendChild(l)},Ue=(e,t=!1,n=!1,a=!1)=>{let s=parseInt(e);return"number"===Je(s)?("number"===Je(n)&&s<n&&(s=n),"number"===Je(a)&&s>a&&(s=a),s):!0!==t&&0},Je=(e,t)=>{var n,a=Object.prototype.toString.call(e);return t=t||{},n||void 0!==e||(n="undefined"),n||null!==e||(n="null"),!n&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)&&(n="buffer"),n||"object"!=typeof window||e!==window||(n="global"),n||"object"!=typeof global||e!==global||(n="global"),!n&&"number"==typeof e&&isNaN(e)&&(n="nan"),!n&&"object"==typeof e&&"[object Number]"==a&&isNaN(e)&&(n="nan"),n||"object"!=typeof e||"Event]"!=a.substr(-6)||(n="event"),n||"[object HTML"!=a.substr(0,12)||(n="html"),n||"[object Node"!=a.substr(0,12)||(n="html"),n||(n=a.match(/\[object\s*([^\]]+)\]/)[1].toLowerCase()),"object"==n&&t.pojoOnly&&e.constructor&&"Object"==(n=e.constructor.name||"unknown")&&(n="object"),n},We=e=>{let t=`${e}=`,n=u.document.cookie.split(";");for(let e of n){for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},Ve=function(e,...t){if("array"===Je(t))for(let n of t)e.appendChild(n);return e},Xe=(e,t,n)=>{let a=new Date,s=1e3,i={B:()=>{s*=0},M:e=>{s*=60*e},H:e=>{s*=3600*e},D:e=>{s*=86400*e},X:()=>{s*=864e5}};for(let e=0;e<t.length;e++)t[e]in i&&i[t[e]](parseInt(t.replace(t[e],""))||1);s+=a.getTime(),a.setTime(s),document.cookie=`${n}=${e}; path=/; domain=${location.hostname}; expires=${a.toUTCString()}; samesite=none; secure`},Ge=(e,t)=>{let n=[],a="";for(let e=1;e<=255;e++)n[String.fromCharCode(e)]=e;for(let s=0;s<e.length;s++)a+=String.fromCharCode(n[e.substr(s,1)]^n[t.substr(s%t.length,1)]);return a},Ke=(e=!1)=>{let t=!0,{debugVast:a=!1}=Fe();a=parseInt(a),(!e||e&&p.getConsentData&&p.getVendorConsents||p.getTCData)&&(clearTimeout(c),X||(X=!0,_e&&l.render&&(t=!1,n=l.render),"number"===Je(a)?(z.push((()=>{Bt({debugVast:a})})),t&&Lt()):!ke||Ae?(Ce.lIJwp=t,Ce.iJwp=Lt,Ce.este=this,dt(st)):(z.push(Bt),t&&Lt())))},Qe=()=>{let e=Object.keys(ce),t=Object.values(ce);if(e.length>0){let n=0,a=e[n],s=t[n];"function"===Je(s)?(en(`Loading multipassback from ${a}`),s()):nn("error raro en que el primer valor de multipassback no es una funcion")}else tn("se ha llegado al final de la ristra de passback. Standing By")},Ze=()=>{Ae&&(je=[je.shift()],document.querySelector(".sm-it-main-container")&&(document.querySelector(".sm-it-main-container").style.display="none"));let e={adman_tag:20},t=Object.keys(de),n=Object.values(de),s=t.length;if(s>0){let i,o,r;if("string"===Je(ye.p1)&&de[ye.p1])r=ye.p1,i=t.indexOf(r),o=n[i];else{{let a=0;if("object"===Je(e)){Yt({passbackShare:e,localABTest:L});let n=!1,i=Object.keys(e),o=i.length;if(o>0&&s>=o){let s=0,r=0;for(;!1===n&&r<o;){let o=i[r],l=e[o];if(de[o]&&"number"===Je(l)){let e=s;if(s+=l,L>=e&&L<s){let i=t.indexOf(o);i>-1&&(en(`seleccion de ${o} por ab ${L} >= ${e} < ${s} `),a=i,n=!0)}}r++}}}r=t[a],o=n[a]}}delete de[r],"function"===Je(o)?(en(`Loading passback from ${r}`),Wt({action:"setpassback",mane:"wmss",key:N,values:[a,r]}),o()):Ze()}else tn("se ha llegado al final de la ristra de passback. Standing By"),u.removeEventListener("message",Kt)},Ye=e=>{void 0===typeof e&&(e={nobid:!0});let t=`${a}SI_In`,n=`${a}SI_Ban`,{bidsOut:s,winner:{cpm_publisher_currency:i=0}={}}=Ce.engines.ast,{targetId:o,nobid:r,cpm_publisher_currency:l=0}=e,d=(e,t)=>{nt("ast",e,t)};Yt(`received astData for ${o}`),Ce.engines.ast.bidsIn++,r||(o===t||o===n?d(e,!0):l>i&&(Ce.engines.ast.winner=e)),Ce.engines.ast.bidsIn>=s&&d(Ce.engines.ast.winner)},et=function(){Yt("Initiating engine AST");let e=se,t=ie,n=`${a}SI_In`,s=`${a}SI_Ban`,i={rahc:[d],outsStType:["st0","st1"]},{globalKw:o,slotKw:r}=Ft("ast",i),l="number"===Je(t),c="number"===Je(e);c||l?(He("https://acdn.adnxs.com/ast/ast.js","ast",P),P.apntag=P.apntag||{anq:[]},P.apntag.anq.push((()=>{let e={member:10535,keywords:o,auctionTimeout:5e3,disablePsa:!0};!0===pe&&(e.schain=Pe("appnexus")),en("AST","options",e),P.apntag.setPageOpts(e)})),c&&P.apntag.anq.push((()=>{let t={tagId:e,prebid:!0,targetId:n,sizes:[1,1],allowedFormats:["video"],keywords:r,video:{frameworks:[1,2]}};Yt("AST",n,t),P.apntag.defineTag(t),Ce.engines.ast.bidsOut++})),l&&P.apntag.anq.push((()=>{let e={tagId:t,prebid:!0,keywords:r,sizes:[[640,480],[600,338],[640,360],[480,640],[640,640],[640,500],[360,640]],targetId:s};Yt("AST",s,e),P.apntag.defineTag(e),Ce.engines.ast.bidsOut++})),P.apntag.anq.push((()=>{[[["adCollapse","adLoaded","adLoadedMediated","adRequested"],function(e,t){Yt("AST",e,t)}],[["adNoBid","adNoBidMediated"],function(e,t){tn("AST",e,t),Ye(t)}],[["adBadRequest","adError","adRequestFailure"],function(e,t,n){tn("AST",e,t,n),Ye(n)}],[["adAvailable"],function(e,t){en("AST",e,t),Ye(t)}]].forEach((([e,t])=>{e.forEach((e=>{apntag.onEvent(e,t.bind(this,e))}))}))})),P.apntag.anq.push((()=>{apntag.loadTags()}))):(tn("No se ha recibido un slot valido para AST"),nt("ast",!1))},tt=function(){let{adType:e,targetId:t,tagId:n,video:{content:a}={},banner:{content:s,trackers:i,height:o,width:r}={}}=Ce.engines.ast.bid;"video"===e?(Ce.lIJwp&&(Ce.lIJwp=!1,Ce.iJwp(!0)),z.push((()=>{Bt({vastXml:a},{v2a:!0})}))):(Ce.engines.ast.bid.banner.content+="<script>console.log('AST Added value');<\/script>",Ut({bidderCode:"appnexus",ast:!0,ad:s,trackers:i,adId:t,adUnitCode:n,width:r,height:o}))},nt=(e,t,n=!1)=>{if(Yt(`received BidData for ${e}`,t),Ce.noMore)return void en("received bids after resolve. Ignoring");let{engines:a}=Ce;if(a.hasOwnProperty(e))switch(Ce.engines[e].bid=t,e){case"a9":Ce.engines[e].validBid="string"===Je(t.amznbid);break;case"pbjs":Ce.engines[e].validBid="number"===Je(t.cpm);break;case"ast":Ce.engines[e].validBid="number"===Je(t.cpm_publisher_currency)}if(!0===n)at(e);else{let e=!0;for(let t in a)"undefined"===Je(a[t].bid)&&(e=!1);e&&at()}},at=function(e=""){if(en(`all engines ended or forcedEngine(${e}) is set`),clearTimeout(Ce.timer),Ce.noMore)return;Ce.noMore=!0;let{engines:t,lIJwp:n,iJwp:a}=Ce,{a9:s={},pbjs:i={},ast:o={}}=t,r=t[e]||{},{validBid:l=!1}=s,{validBid:d=!1}=i,{validBid:c=!1}=o,{validBid:p=!1}=r;if(p)r.resolveEngine(n,a);else if(d||c){let e=((...e)=>{let t={bid:{cpm:0}};for(let n of e)n.bid&&n.bid.cpm&&n.bid.cpm>t.bid.cpm&&(t=n);return t})(i,o);if(l){let n=Object.keys(t),a=encodeURIComponent(Ge(`${e.bid.cpm}`,"w+pbjs")),i=encodeURIComponent(Ge(s.bid.amznbid,`${e.bid.cpm}`)),o=`https://wemass.io/yassa?a9=${i}&a8=${a}`,r=t=>{t.text().then((t=>{en("winnner",t),"a9"===t?s.resolveEngine():e.resolveEngine()}))};try{yassaFetcher=Be(o,"GET",r),en(`looking for winning bid ${i} vs ${a}`),yassaFetcher.send()}catch(e){try{nn("yassa failed resolve at random",e.message),t[n[L%n.length]].resolveEngine()}catch(e){nn("wt",e)}}}else e.resolveEngine()}else l?s.resolveEngine():(Ce.lIJwp&&(Ce.lIJwp=!1,Ce.iJwp(!0)),z.push((()=>{Bt()})))},st=()=>{try{let{engines:e}=Ce;en("Iniciando los motores de HB",Object.keys(e));for(let t in e){let{initEngine:n}=e[t];switch(t){case"ast":oe?n():delete Ce.engines[t];break;case"pbjs":lt();break;case"a9":n();break;default:throw new Error(`LOLWut engine no declarado: ${t}`)}}Ce.timer=setTimeout(at,Ce.timeout)}catch(e){nn(e.message),console.trace(e),Ze()}},it=(e,t)=>{pbjs.bidderSettings||(pbjs.bidderSettings={}),pbjs.bidderSettings[e]||(pbjs.bidderSettings[e]={});for(let n in t)pbjs.bidderSettings[e][n]=t[n]},ot=[],rt=e=>{-1===ot.indexOf(e)&&ot.push(e)},lt=()=>{en("Creando Pujas para PBJS");let e=[e=>{let t,n,a="appnexus",s=ae,i=19105085,o=(e,t={},n="video")=>{let s={bidder:a,params:{placementId:e,member:"10535"}},i=Ft(a,t);if("video"===n)s.params.video={skippable:!1,playback_method:["auto_play_sound_off"],frameworks:[1,2]};return"object"===Je(i)&&(s.params.keywords=i),s};(r=>{let l=!1;tn({haySkin:oe,raPubHashCrea:d}),!Q&&oe&&(Yt(`Encontrada creatividad de Skin de Wemass: ${d}. Pidiendo pujas para tal`),t=se,n=ie),!0===ye.lx&&(document.cookie='apn_prebid_debug={ "enabled": true, "dongle": "yellow", "debug_timeout": 10000, "member_id": 10535 }; Max-Age=3600; samesite=none; secure'),ye.t2a===a&&(s=17926667),ye.t2b===a&&(i=19086529),"number"===Je(s)&&(l=!0,he.push(o(s,{outsStType:["st0"]})),we.push(o(s,{outsStType:["st1"]}))),"number"===Je(i)&&(l=!0,me.push(o(i,!1,"display"))),!ye.t8&&oe&&("number"===Je(t)&&(l=!0,be.push(o(t,{rahc:[d],outsStType:["st0","st1"]}))),"number"===Je(n)&&(l=!0,ge.push(o(n,{rahc:[d]},"display")))),l&&(it(a,{allowZeroCpmBids:!0,storageAllowed:!0}),rt(a)),e()})()},e=>{let t="richaudience",n=re;if("string"===Je(n)){let e={bidder:t,params:{pid:n,supplyType:"site",bidfloor:1}},a=Ft(t);"string"==typeof a&&a.length>0&&(e.params.keywords=a),he.push(e),it(t,{storageAllowed:!0}),rt(t)}e()},e=>{(t=>{if("number"===Je(le)){let e="smart",t=102772,n="https://www8.smartadserver.com",a=1078632,s=(t=102772,s={},i="video")=>{let o=Ft(e,s),r={bidder:e,params:{domain:n,siteId:le,pageId:a,formatId:t,bidfloor:s.rahc?.1:2.5}};if("video"===i)r.params.video={protocol:8,startDelay:0};return"string"==typeof o&&o.length>0&&(r.params.target=o),r};tn({haySkin:oe,raPubHashCrea:d}),"smartadserver"===ye.t2a&&(n="https://prg.smartadserver.com",he.push(s(55710,!1))),"number"===Je(a)&&(he.push(s(t,!1)),ye.t8)}e()})()},e=>{let t="adman",n=7825,a=8447;ye.t2a!==t&&ye.t2b!==t||(ye.t2a===t&&(n=0),ye.t2b===t&&(a=0),it(t,{bidCpmAdjustment:function(e,t){return console.log("Bidder is: "+t.bidderCode),50*e}})),ke||(it(t,{storageAllowed:!0}),"number"===Je(n)&&he.push({bidder:t,params:{placementId:n,traffic:"video"}}),"number"===Je(a)&&me.push({bidder:t,params:{placementId:a,traffic:"banner"}})),e()},e=>{let t="smartx",n="13047",a="24947",s="ES_INTXT_WEMASS-LAVANGUARDIA_HTML5#ES002790",i=3.5;ye.t2a===t&&(n="11986",a="22860",s="Nu68JuOWAvrbzoyrOR9a7A",i=.3),"string"===Je(s)&&(he.push({bidder:t,params:{tagId:s,publisherId:n,siteId:a,bidfloor:i,bidfloorcur:"EUR",at:2,cur:["EUR"]}}),it(t,{storageAllowed:!0})),e()}],t=()=>{if(e.length>0){let n=e.shift();"function"===Je(n)?n(t):t()}else Ce.engines.pbjs.initEngine()};t()},dt=e=>{let{raPubHashCrea:t}=u,n=e=>{if("string"===Je(e)){let t=new RegExp(/\.*raPubHashCrea.*?[^"]*?['`"]([\w\d]+?)['`"][^;]*?/,"gi").exec(e);t&&t.length>0&&(d=t.pop(),oe=!0,a(),t.length>1&&tn("lolwut",t))}},a=()=>{oe&&Te.unshift("appnexusSkintext"),e(d)};try{if(!oe&&_e){if("string"===Je(t)&&t.length>0)en(`Detectado skin: ${t} del objeto top. No se busca Mas`),d=t,oe=!0,a();else if(u!==P){if(u.pbjs&&"function"===Je(u.pbjs.getAllWinningBids)){en("Intentando detectar skin por tag");let e=u.pbjs.getBidResponses();for(let t in e){let{bids:a=[]}=e[t];for(let e of a){let{bidder:t,dealId:a,status:s,ad:i=""}=e;!1!==oe||"richaudience"!==t||"ramkt"!==a&&"1jtx0Zr90r"!==a||"rendered"!==s||(en(`Hay deal ${a} buscando hash`),n(i))}}}if(!1===oe){en("Intentando detectar skin por contenido de iframe");let e,t,s,i=2,o=u.document.querySelector("[id*='ldb1'],#div-hola-slot-megabanner,#megabanner-id,[data-name='mega1'],[id*='PUB_CABECEROad-mega'i][data-google-query-id]"),r={subtree:!0,childList:!0},l=(e,t)=>{Yt("mutationProbableMega",e),t.disconnect(),p()},d=()=>{try{return t.contentWindow&&t.contentWindow.document||t.contentDocument}catch(e){nn(e.message)}throw new Error("no hay documento de iframe accesible")},c=()=>{t=o.querySelector("iframe");let n=o.getAttribute("id");if(t)en("se ha encontrado el iframe dentro del probable mega"),p();else if((e=>{for(let t of u.googletag.pubads().getSlots())if(t.getSlotElementId()===e)return Yt("detectado slot de gam con el id estimado"),!0;return!1})(n))((e,t)=>{let n=["slotRenderEnded"],a=n=>{n.slot.getSlotElementId()===e&&(Yt(`${e} renderizado por google`),t())};for(let e of n)u.googletag.pubads().addEventListener(e,a)})(n,(()=>{t=o.querySelector("iframe"),p()}));else{new MutationObserver(l).observe(o,r),e=setTimeout(a,500)}},p=()=>{clearTimeout(e);try{s=d(),"html"===Je(s)?(en("se ha encontrado el documento dentro del iframe dentro del probable mega"),m()):(en("algo fallo en la deteccion del body"),a())}catch(e){nn(e),a()}},m=()=>{en(` intento bodyiframe -> ${i}`),i>0?(n(s.body.textContent),oe||(i--,e=setTimeout(m,20))):a()};o?(en("se ha encontrado el probable mega"),c()):(en("no se ha encontrado capa contenedora de skin"),a())}}}else a()}catch(e){nn(e),a()}},ct=function(){en("Initiating Engine PBJS");let e=[],t=`${a}_Out`,n=`${a}_In`,s=`${a}SI_In`,i=`${a}_InV2P`,o=`${a}_Ban`,r=`${a}SI_Ban`,l=["video/webm","application/x-mpegURL","video/mp4","application/javascript","video/ogg"],d=[1,2,3,4,5,6,7,8],c=[1,2],u=[[640,480]],m=(e,t="instream",n)=>{let a;switch(t){case"instream":a={code:e,mediaTypes:{video:{mimes:l,protocols:d,api:c,context:t,playerSize:u,maxduration:90}}};break;case"outstream":a={code:e,mediaTypes:{video:{maxduration:60,mimes:l,api:c,protocols:d,context:t,playerSize:u}},renderer:{url:"https://about:blank",render:Bt}};break;case"display":a={code:e,mediaTypes:{banner:{sizes:[[640,480],[600,338],[640,360],[480,640],[640,640],[640,500],[360,640]]}}}}return"object"===Je(a)&&(a.bids=n),a};"array"===Je(fe)&&fe.length>0&&e.push(m(t,"outstream",fe)),"array"===Je(he)&&he.length>0&&e.push(m(n,"instream",he)),"array"===Je(we)&&we.length>0&&e.push(m(i,"instream",we)),"array"===Je(me)&&me.length>0&&e.push(m(o,"display",me)),"array"===Je(be)&&be.length>0&&e.push(m(s,"instream",be)),"array"===Je(ge)&&ge.length>0&&e.push(m(r,"display",ge)),e.length>0?(He("https://service.wemass.com/prebid/irrm/274ebf34b662976f1554cdabf7d8e996.js","prebic",P),pbjs.que.push((()=>{let t={cmpApi:"static",consentData:p};1===xe&&(t.allowAuctionWithoutConsent=!1),2===xe&&(t.defaultGdprScope=!0),pbjs.addAdUnits(e);let a={debug:0===ye.l1||5===ye.l1,userSync:{syncsPerBidder:1,syncDelay:2e3,filterSettings:{iframe:{bidders:"*",filter:"include"}}},bidderTimeout:2e3,consentManagement:{gdpr:t},cache:{url:J}};!0===pe&&pbjs.setBidderConfig({bidders:ot,config:{schain:Pe("prebid")}}),!0===ye.lx&&(a.bidderTimeout=1e4),p||delete a.consentManagement,pbjs.setConfig(a),ke&&pbjs.setConfig({publisherDomain:Xt.domain,pageUrl:Xt.href}),pbjs.requestBids({bidsBackHandler:e=>{Yt(e);let t=((e=[])=>{let t,n,a=e.length;for(;0!==a;)n=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[n],e[n]=t;return e})(pbjs.getHighestCpmBids()),a=!1;if(en(t),t.length>0){let e={},l={},d=!1,c=t.length,p=0,u=2.5;for(;!d&&p<c;){let n=t[p],{adUnitCode:a,cpm:o}=n,{cpm:c=0}=e;a===s||a===r?(Yt("puja de Skintext encontrada, Ignorando el resto."),d=!0,e=n):d||(o>c&&(e=n),a===i&&(l=n)),p++}if(en({highestBid:e,highestBidV2P:l,skinTextBid:d}),"object"===Je(e)){let{adUnitCode:t,bidderCode:s,cpm:r,adId:l}=e,c="appnexus"===s,p=c&&(t===n||t===i);c&&t===o&&(u=.5),d||p||r&&r>=u?nt("pbjs",e,d):a=!0}else a=!0}else a=!0;!0===a&&(tn("No hay pbjs bids elegibles"),nt("pbjs",{}))}})}))):nt("pbjs",{})},pt=()=>{let e=`${a}_Out`,t=`${a}_In`,n=`${a}SI_In`,s=`${a}_InV2P`,i=`${a}_Ban`,o=`${a}SI_Ban`,{bid:r}=Ce.engines.pbjs,{adUnitCode:l,bidderCode:d,adId:c}=r;switch(l){case e:Ce.lIJwp&&(Ce.lIJwp=!1,Ce.iJwp(!0)),z.push((()=>{pbjs.renderAd(document,r.adId)}));break;case t:case s:case n:if(Vt="auto","smartx"===d){Vt="enabled";let e=!1,t=!1;U="googima",Ee&&e&&(U=e),ke&&t&&(U=t)}Ce.lIJwp&&(Ce.lIJwp=!1,Ce.iJwp(!0)),z.push((()=>{pbjs.markWinningBidAsUsed({adId:c}),l===s||l===n?Bt(r,{v2a:!0}):Bt(r)}));break;case i:case o:Ut(r);break;default:Bt()}},ut=function(){Yt("Initiating engine A9");let e="outstreamSlot";if(ye.a2&&(e="outstreamSlot"),"string"===Je(e)){"function"===Je(u.__tcfapi)&&(P.__tcfapi=u.__tcfapi.bind(u)),P.apstag=P.apstag||{init:function(){P.apstag._Q.push(["i",arguments,(new Date).getTime()])},fetchBids:function(){P.apstag._Q.push(["f",arguments,(new Date).getTime()])},setDisplayBids:function(){},_Q:[]},He("https://c.amazon-adsystem.com/aax2/apstag.js","tam",P);let t=5107,n="video",a=[[640,480],[640,360]],s={value:350,currency:"USD"},i={pubID:t,deals:!0,bidTimeout:5e3},o={slotID:e,mediaType:n,sizes:a,floor:s};!0===pe&&(i.schain=Pe("tam")),fetchBids=()=>{en("Fetching A9 bids for",{pubID:t},{slotID:e,mediaType:n,sizes:a,floor:s}),P.apstag.fetchBids({slots:[o]},(e=>{if(en(`a9 bidObject ${JSON.stringify(e)}`),e.length>0){let t=e.pop();nt("a9",t.targeting)}else nt("a9",!1)}))},P.apstag.init(i,fetchBids)}else tn("No se ha recibido un slot valido para amaozn"),nt("a9",!1)},mt=()=>{let{amznbid:e,amzniid:t}=Ce.engines.a9.bid,n=`https://aax.amazon-adsystem.com/e/dtb/vast?b=${t}&rnd=${M}&pp=${e}`;Ce.lIJwp&&(Ce.lIJwp=!1,Ce.iJwp(!0)),z.push((()=>{Bt({vastUrl:n},{v2a:true})}))},gt=(e="56.25%")=>{Yt("addpadding Style"),clearTimeout(u.__wmass.outstream.elems[a].timer);let t={},n=Nt.bind(this,t),s=`.St_${a}`;n(`${s}`,["padding-bottom",e,0,!0],["padding-top","25px",0,!0]),n(`${I} > iframe`,["height","100%",0]),ze(o,{Cn:s}),Rt(t),Dt({noMute:!0,noControls:!0})},ft=()=>{let e={},n=Nt.bind(this,e),a=ze("svg",{Cn:[$],useNs:!0,viewBox:"-1 -1 2 2"}),s=ze("circle",{useNs:!0,r:"1",fill:"#eaf1d9"}),i=ze("path",{useNs:!0,Cn:[S],fill:"#92c01f"});n($,["width","60%"],["margin","auto"],["grid-column-start","1"],["grid-column-end","1"],["grid-row-start","5"],["grid-row-end","5"],["position","relative"],["opacity",".5"],["transform","rotate(-90deg)"],["z-index","2"]),Rt(e),Ve(t,Ve(a,s,i))},ht=()=>{let e={},n=Nt.bind(this,e),a=Ve(ze("svg",{useNs:!0,viewBox:"0 0 24 24",Cn:[_]}),ze("path",{useNs:!0,d:"M19 6.4L17.6 5 12 10.6 6.4 5 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6z"}));n(_,["width","70%"],["margin","auto"],["grid-column-start","7"],["grid-column-end","7"],["grid-row-start","1"],["grid-row-end","1"],["position","relative"],["cursor","pointer"],["display","none"],["z-index","10"],["fill","#c2d882"]),n(".wm-closebutton:hover",["fill","#92c01f"]),n(".jw-flag-floating .wm-closebutton",["display","inline-block",0,!0]),Rt(e),Ve(t,a)},bt=()=>{let e={},n=Nt.bind(this,e),a=ze("path",{useNs:!0,d:"M6.486 4.39l-1.98 1.98 25.147 25.147 1.98-1.98L6.486 4.39z",Cn:[".off"]}),s=Ve(ze("svg",{useNs:!0,viewBox:"0 0 36 36","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",Cn:[v,b]}),ze("path",{useNs:!0,d:"M4.5 13.5v9h6L18 30V6l-7.5 7.5h-6zM24.75 18c0-2.655-1.53-4.935-3.75-6.045V24.03A6.71 6.71 0 0 0 24.75 18zM21 4.845v3.1c4.335 1.3 7.5 5.3 7.5 10.065s-3.165 8.775-7.5 10.065v3.1C27.015 29.8 31.5 24.42 31.5 18S27.015 6.2 21 4.845z","fill-rule":"nonzero"}),a);n(v,["width","70%"],["margin","auto"],["grid-column-start","6"],["grid-column-end","6"],["grid-row-start","1"],["grid-row-end","1"],["position","relative"],["cursor","pointer"],["z-index","10"],["fill","#c2d882"]),n(".off",["display","none"]),n(".wm-sound:hover",["fill","#92c01f"]),s.addEventListener("click",(()=>{a.classList.toggle("off")})),Rt(e),Ve(t,s)},wt=()=>{let e={},n=Nt.bind(this,e),a=Ve(ze("svg",{useNs:!0,viewBox:"0 0 24 24",Cn:[k,".off",b]}),ze("path",{useNs:!0,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z","fill-opacity":"50%"})),s=ze("div",{Cn:[k,".off",b]});n("div.wm-playbutton",["left","0"],["content",'"."'],["top","0"],["height","100%"],["width","100%"],["position","absolute"],["cursor","pointer"],["z-index","10"],["background-color","rgba(60, 60, 60, .7)"]),n("svg.wm-playbutton",["height","100%"],["margin","auto"],["grid-column-start","4"],["grid-column-end","4"],["grid-row-start","3"],["grid-row-end","3"],["position","relative"],["cursor","pointer"],["z-index","10"],["opacity","0.7"],["fill","#92c01f"]),n("svg.wm-playbutton:hover",["opacity","1"]),n(".off",["display","none"]),Rt(e),Ve(t,s,a)},yt=()=>{let e={},t=Nt.bind(this,e),n=`${A}::before`,a=`${A}::after`;t(A,["background-color","transparent"],["border-bottom","10px solid transparent"]),t(n,["order","0"],["align-self","flex-end"],["content",'"Powered By"'],["line-height","10px"],["font-family","Calibri, sans-serif,sans"],["color","#3c3c3b"],["bottom","-10px"],["right","38px"],["position","absolute"],["font-size","10px"],["-webkit-touch-callout","none"],["-webkit-user-select","none"],["-khtml-user-select","none"],["-moz-user-select","none"],["-ms-user-select","none"],["user-select","none"]),t(a,["order","1"],["align-self","flex-end"],["content",'"WeMass"'],["line-height","10px"],["font-family","Calibri, sans-serif,sans"],["font-weight","bold"],["bottom","-10px"],["right","0"],["font-size","10px"],["position","absolute"],["-webkit-touch-callout","none"],["-webkit-user-select","none"],["-khtml-user-select","none"],["-moz-user-select","none"],["-ms-user-select","none"],["user-select","none"],["color","#92c01f"]),Rt(e)},xt=(e=!1)=>{let t={},n=Nt.bind(this,t),a=[["-webkit-touch-callout","none"],["-webkit-user-select","none"],["-khtml-user-select","none"],["-moz-user-select","none"],["-ms-user-select","none"],["user-select","none"],["font-family","Calibri, sans-serif,sans"],["color","#9d9d9c"],["font-size","10px"]];if(e)n(`${I}::before`,["content",'"Publicidad"'],["z-index","3"],["height","10px"],["top","0"],["left","0"],["padding","2px"],["position","absolute"],["line-height","10px"],["background-color","#fff"],...a);else{let e=".wm-publi",t=ze("div",{Cn:[e],T:"PUBLICIDAD"});n(A,["background-color","transparent"],["border-top","15px solid transparent"]),n(e,["z-index","3"],["height","15px"],["width","100%"],["position","absolute"],["top","-15px"],["left","0px"],["background-color","#e3e3e3"],["font-weigth","bold"],["text-align","center"],["line-height","15px"],["height","15px"],...a),i.querySelector(A).appendChild(t)}Rt(t)},vt=e=>{let n={},a=Nt.bind(this,n),s=ze("div",{T:e,Cn:[y,b,".hidden"]});a(y,["grid-area","5/6/span 1/span 2"],["z-index","10"],["opacity","0.3"],["background-color","#3c3c3b"],["max-height","90px"],["height","50%"],["min-height","22px"],["max-width","180px"],["width","30%"],["min-width","24px"],["margin","auto 0px auto auto"],["color","#c6c6c6"],["font-family","Calibri, sans-serif,sans"],["-webkit-touch-callout","none"],["-webkit-user-select","none"],["-khtml-user-select","none"],["-moz-user-select","none"],["-ms-user-select","none"],["user-select","none"],["transition","width 0.7s,font-size 0.3s"],["border","1px solid #e3e3e3"],["border-right","none"],["border-radius","90px 0 0 90px"],["right","0px"],["padding","5% 10%"],["text-align","right"]),a(".wm_ext-skipOffset:hover",["opacity","0.75"]),a(".wm_ext-skipOffset.full",["width","100%"],["text-align","left"],["white-space","nowrap"],["padding-right","5%"],["cursor","pointer"]),a(".exgrid",["max-width","85px"],["font-weight","bold"],["grid-area","5/5/span 1/span 3"]),a(".hidden",["visibility","hidden"]),Rt(n),Ve(t,s)},_t=(e,t=0)=>{let n=new RegExp(/\d+:\d+/),s=e.textContent,i={},o=Nt.bind(this,i);return n.test(s)&&(en(`obtenido aspect Ratio: ${s}`),Wt({action:"videoAspectRatio",mane:"wmss",key:N,values:[a,s]}),o(j,["width","100%",t],["height","auto",t])),i},kt=e=>{let t={},n=Nt.bind(this,t);try{let t=e.textContent.trim().split(";");if(t.length>0)for(let e of t){let[t,a=!1]=e.split(":");!1!==a&&n(I,[t,a.trim(),1])}}catch(e){nn(e)}return t},$t=e=>{try{let t=e.textContent.trim();u.__wmass.outstream.elems[a].fotoFinish=t}catch(e){nn(e)}},St=e=>{let n=[],a=Nt.bind(this,n);try{let n=0,s=0,i=17,o=e.textContent,r=9,l=9,d=e.firstElementChild.attributes;for(let e of d){let{name:t,value:a}=e;if("position"===t)[s,n]=a.split("-");else if("x"===t)r+=Ue(a,!1);else if("y"===t)l+=Ue(a,!1);else if("width"===t){let e=Ue(a,!0,0,100);!1!==e&&(i=e)}else"datauri"===t&&"string"===Je(a)&&a.indexOf("data:image")>-1&&(o=a)}a(C,[`${n}`,`${r}px`],[`${s}`,`${l}px`],["width",`${i}%`],["border","none"],["position","absolute"],["z-index","2"]);let c=ze("img",{src:o,Cn:[C,b]});t.appendChild(c)}catch(e){nn(e)}return n},Ct=e=>{let n={},a=Nt.bind(this,n);try{let n,s=0,i=0,o=9,r=9,l=e.textContent.trim(),d=e.firstElementChild.attributes;for(let e of d){let{name:t,value:l}=e;if("position"===t)[i,s]=l.split("-");else if("x"===t)o+=Ue(l,!1);else if("y"===t)r+=Ue(l,!1);else if("textStyle"===t){n=l;let e=n.split(";");if(e.length>0)for(let t of e){let[e,n=!1]=t.split(":");!1!==n&&a(x,[e,n.trim(),1])}}}switch(a(x,["font-weight","bold"],["font-family","calibri"],["font-size","125%"],["margin","auto"],["color","white"],["z-index","3"],["display","inline-block"],["position","absolute"]),i){case"top":a(x,["margin-top",`${r}px`],["top","0px"]);break;case"bottom":a(x,["margin-bottom",`${r}px`],["bottom","0px"]);break;case"center":a(x,["top","0px"],["bottom","0px"])}switch(s){case"left":a(x,["margin-left",`${o}px`],["left","0px"]);break;case"right":a(x,["margin-right",`${o}px`],["right","0px"]);break;case"center":a(x,["width","100%"],["text-align","center"])}let c=ze("div",{T:l,Cn:[x,b]});t.appendChild(c)}catch(e){nn(e)}return n},jt=e=>{try{let t=parseFloat(e.textContent),n=parseFloat(t);"number"===Je(n)&&n>0&&(vt(n),Wt({action:"skipOffset",mane:"wmss",key:N,values:[a,n]}))}catch(e){nn(e)}},Tt=e=>{let n={},a=Nt.bind(this,n);try{let n=0,s=0,i=100,o=100,r=0,l=0,d=e.textContent,c=0,p=0,u=0,m=0,g=e.firstElementChild.attributes;for(let e of g){let{name:t,value:a}=e;if("visorPosition"===t)[s,n]=a.split("-");else if("x"===t)c+=Ue(a,!1);else if("y"===t)p+=Ue(a,!1);else if("visorwidth"===t){let e=Ue(a,!0,0,100);!1!==e&&(i=e)}else if("videoPosition"===t)[l,r]=a.split("-");else if("videowidth"===t){let e=Ue(a,!0,0,100);!1!==e&&(o=e)}else"vx"===t?u+=Ue(a,!1,0,100):"vy"===t&&(m+=Ue(a,!1,0,100))}switch(a(w,[`${n}`,`${c}px`],[`${s}`,`${p}px`],["width",`${i}%`],["border","none"],["position","absolute"],["z-index","1"]),a(j,["width",`${o}%`,2],["height","auto"]),l){case"top":a(j,["margin-top",`${m}%`]);break;case"bottom":a(j,["margin-bottom",`${m}%`])}switch(r){case"left":a(j,["margin-left",`${u}%`]);break;case"right":a(j,["margin-right",`${u}%`])}let f=ze("img",{src:d,Cn:[w,b]});t.appendChild(f)}catch(e){nn(e)}return n},At=e=>{var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){let e=new DOMParser;Yt(t.responseText);try{let n={},a=e.parseFromString(t.responseText,"text/xml"),s=a.querySelector("AdSystem"),i=a.querySelector("AdParameters"),o=a.querySelectorAll("VASTAdTagURI");"adnxs"===s.textContent&&i&&i.textContent?(n=JSON.parse(i.textContent),It(n)):o.length>0?At(o[0].textContent.trim()):(n.xmlElem=a,It(n))}catch(e){nn("some erro happened",e)}}},Yt(`siguiendo a ${e}`),t.open("GET",e,!0),t.send()},It=e=>{let t=Et(e),n=t.querySelectorAll("VASTAdTagURI"),s=t.querySelectorAll('Extension[type*="wemass"]');if(en("encontradas estas extensiones",s),s.length>0)for(let e of s){let t=e.getAttribute("type");"wemassAspectRatio"===t?Rt(_t(e,1)):"wemassLogo"===t?Rt(St(e)):"wemassSkipOffset"===t?jt(e):"wemassVisor"===t?Rt(Tt(e)):"wemassMessage"===t?Rt(Ct(e)):"wemassBackground"===t?Rt(kt(e)):"wemassFinalframe"===t&&$t(e)}if(n.length>0)At(n[0].textContent.trim());else{let e=i.querySelector(`#${a}`),t=e.getAttribute("id"),n=Pt(`#${t}`);if(n.length>0){let a=ze("style",{type:"text/css",St:n.join("\n"),id:`st_${t}`});if(e.parentNode.insertBefore(a,e),ve){let e=a.sheet;setTimeout((()=>{Yt("constraints activados");let t=((e=i)=>{let t,n,{height:a,width:s}=i.parentNode.getBoundingClientRect(),{height:o,width:r}=e.getBoundingClientRect();if(o>a&&r>s)t=o-a>r-s?"h":"w";else if(o>a)t="h";else{if(!(r>s))return!1;t="w"}return n="w"===t?s/r:a/o,n})(),n=`#${i.getAttribute("id")}{position:sticky;`;"number"===Je(t)&&(n+=`transform:scale(${t});transform-origin:top;`),n+="}",e.insertRule(n,e.cssRules.length),en(`regla insertada ${n}`)}),1)}}}},Et=e=>{let{ads:t=!1,xmlElem:n=!1}=e,a=new DOMParser;try{if("array"===Je(t)){let e=t.shift();if(e.hasOwnProperty("content_source")&&"rtb"===e.content_source){let t=!1,{rtb:n={}}=e,{content_b64:s,video:i={}}=n,{content_b64:o}=i;if("string"===Je(s)&&s.length>0?t=s:"string"===Je(o)&&o.length>0&&(t=o),"string"===Je(t)){let e=atob(t.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""));return Yt("decodeado el vast en el wrapper de visibililidad de appnexus",{decodedVastString:e}),a.parseFromString(e,"text/xml")}}}else if(!1!==n)return n}catch(t){nn("fallo parseando adParameters",e,t)}return a.parseFromString('<VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0"></VAST>',"text/xml")},Dt=(n={})=>{G=!0,t=ze("div",{Cn:[h]}),e=i.querySelector(I);let s={},o=Nt.bind(this,s),{noMute:r=!1,noControls:l=!1,mediaData:d={},extData:c=!1}=n,{width:p,height:u}=d;tn(d),l||(ft(),wt(),r||bt(),D=!1),yt(),xt(),(B||O)&&ht(),Ae||o("__anchor__",["margin-bottom","25px"]),o(j,["background-color","#000"]),o(`${E}`,["padding-bottom","25px"]),o(T,["z-index","4"]),o(h,["position","relative"],["width","100%"],["height","100%"],["display","inline-grid"],["grid-template-rows","15% 1fr 50% 1fr 15%"],["grid-template-columns","7.5% 7.5% 1fr 50% 1fr 7.5% 7.5%"]),Rt(s),Ve(e,t),"number"===Je(u)&&"number"===Je(p)&&_t({textContent:`${p}:${u}`}),l||(_e?Wt({action:"controls",mane:"wmss",key:N,values:[a]}):Mt(d)),It(c)},Lt=(e=!0)=>{let t=ze("script",{src:`https://cdn.jwplayer.com/libraries/${ne}.js`}),a=()=>n=u.jwplayer,s=()=>"undefined"!==Je(u.jwplayer)&&u.jwplayer.defaults&&u.jwplayer.defaults.pid===ne,i=()=>{if(Je("array"===z)&&z.length>0)for(let e of z)"function"===Je(e)&&e();z={},z.push=e=>e()},o=()=>{s()?(tn(u.jwplayer.version),en("jwplayerfile loaded Parsing commands"),_e&&a(),i()):(Yt("waiting for jwplayer"),H-=50,H>0?setTimeout(o,50):Ze())};s()?(tn(u.jwplayer.version),_e&&a(),i()):(Yt(`loading jwplayerfile ${ne}`),(u.document.body||u.document.head).appendChild(t),o())},Mt=e=>{let t=jwplayer(a),n=t.getContainer(),s=n.querySelector(v),i=n.querySelector(S),o=n.querySelector("svg.wm-playbutton"),r=n.querySelector(".wm-closebutton"),l=n.querySelector("div.wm-playbutton"),{width:d,height:c}=e,p=e=>{Yt(e);let{duration:t=!1,position:n=!1,type:a}=e,s=0;"adTime"===a?"number"===Je(t)&&"number"===Je(n)&&(s=n/t):"adComplete"===a&&(s=1);let o=s>.5?1:0,[r,l]=(e=>[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)])(s);i.setAttribute("d",`M 1 0 A 1 1 0 ${o} 1 ${r} ${l} L 0 0`)};"number"===Je(c)&&"number"===Je(d)&&t.setConfig({aspectratio:`${d}:${c}`}),l&&o&&(l.addEventListener("click",t.playToggle),o.addEventListener("click",(()=>{t.playToggle()})),t.on("adPlay",(()=>{l.classList.add("off"),o.classList.add("off")})),t.on("adPause",(()=>{l.classList.remove("off"),o.classList.remove("off")}))),r&&r.addEventListener("click",(()=>{t.skipAd(),t.remove()})),s.addEventListener("pointerdown",(e=>{t.setMute(),e.stopPropagation()})),s.addEventListener("click",(e=>{e.stopPropagation()})),t.on("adTime",p),t.on("adComplete",p)},Ot=()=>{for(let e of W){new IntersectionObserver(((e,t)=>{for(let n of e)!0===n.isIntersecting&&(n.target.setAttribute("w-type","'multi-outstream-free'"),tn(`${n.target.getAttribute("id")} Interseccionando`),Qe(),t.unobserve(n.target))}),{root:null,rootMargin:"0px 0px 360px 0px",threshold:.5}).observe(e)}},qt=()=>{let e=i.querySelectorAll(b);if(e&&e.length>0){Yt("ocultando elementos volatiles");for(let t of e)t.style.display="none"}(()=>{let e=ze("div",{Ct:"width:100%; height:100%; display:flex; align-items: center; justify-content: center; z-index:4;position:absolute;"}),n=ze("div",{Ct:"background-color:white;border-radius:5px;padding:5px;color:black;z-index:4;",T:"Thanks for watching!"});Ve(t,Ve(e,n))})(),u.removeEventListener("message",Kt)},Bt=(e,t=!1)=>{e||(U="vast"),tn({jwplayer_client:U}),ye.j2&&(Vt=ye.j2);let n=!1,s=!0,o={width:"100%",stretching:"uniform",autostart:"viewable",autoPause:{viewability:!1,pauseAds:!1},controls:!1,aspectratio:"16:9",mute:!0,advertising:{outstream:!0,creativeTimeout:25e3,requestTimeout:25e3,vpaidcontrols:!0,omidSupport:Vt,client:ye.j1||U,autoplayadsmuted:!0,displayHeading:!0,conditionaladoptout:!0,preloadAds:!0,intl:{es:{advertising:{admessage:"El anuncio terminará en xx",cuetext:"Publicidad",loadingAd:"Cargando anuncio",podmessage:"Anuncio xx of yy",skipmessage:"Saltable en xx",skiptext:"Saltar"}}}}};if(Yt("JWPlayer setup",o),"object"===Je(t))for(let e in t)if("v2a"===e)!0===t[e]&&(o.autoPause={viewability:!0,pauseAds:!0});if(B||O){let e=B?"notVisible":"always";Yt(`Player floatable ${e}`),o.floating={dismissible:!1,mode:e}}if(e)if(e){let{vastUrl:t,videoCacheKey:n,vastXml:a,debugVast:i,bidderCode:r="",dealId:l="",creativeId:d="",meta:{advertiserId:c="no_advertiserId",advertiserName:p="no_aname",advertiserDomains:u=["no_domain"],brandId:m="no_brandId",brandName:g="no_bname"}={}}=e;if(i){let e=`https://ib.adnxs.com/cr?id=${i}&format=vast`;tn("loading DEBUG URL",e),o.advertising.tag=e}else{let e={advertiserId:c,bidderCode:r,dealId:l,creativeId:d};o._wMeta=e,t?(en("loading vastUrl",t),o.advertising.tag=t):n?(en("loading videoCacheKey",n),o.advertising.vastxml=`${J}?uuid=${n}`):a?(en("loading vastXml",a),o.advertising.vastxml=a):s=!1}}else s=!1;else if(Te.length>0){let e=Te.shift(),t=1,a="";if(p&&(1===xe&&p.getConsentData&&p.getConsentData.consentData&&(t=1,a=`${p.getConsentData.consentData}`),2===xe&&p.getTCData&&p.getTCData.tcString&&(t=1,a=`${p.getTCData.tcString}`)),"appnexus"===e||"appnexusLast"===e||"appnexusSkintext"===e){let s,i={outsStType:["st0","st1","st2"]},r=[];"appnexus"===e?(s=ae,"appnexus"===ye.t2a&&(s=17926667)):"appnexusSkintext"===e?(s=se,i.rahc=[d],"appnexus"===ye.t2a&&(s=17926667)):(n=!0,s=20377217),r.push(`id=${s}`,`cb=${Date.now()}`,`referrer=${encodeURIComponent(Xt.href)}`,`gdpr=${t}`,`gdpr_consent=${a}`,"vv=4","vframeworks=1,2","vheight=480","vwidth=640","vcontext=1","vskippable=0",...Ft("appnexusVast",i)),!0===pe&&r.push(Pe("vast")),o.advertising.tag=`https://ib.adnxs.com/ptv?${r.join("&")}`}else if("richaudience"===e&&"string"===Je(re)){let e=[`consentString=${a}`,`mref=${encodeURIComponent(Xt.href)}`,Ft("richaudienceVast")],t=re;!0===pe&&e.push(Pe("vast")),o.advertising.tag=`https://s.richaudience.com/vid/${t}/${Date.now()}/?${e.join("&")}`}else s=!1;o.advertising.tag&&tn(`No hay bidresponse intentando llamar placement directo de ${e}: ${o.advertising.tag}`)}else s=!1;s?_e||Ae?Wt({action:"playad",mane:"wmss",key:N,values:[a,o]}):((e,t=!1)=>{let n=!1,s=jwplayer(a);delete e.autoPause.viewability,delete e.advertising.outstream,e.file="https://content.jwplatform.com/videos/297tTyCw-wNgLDiIw.mp4",!0===ye.t2&&(e.advertising.tag=`https://pubads.g.doubleclick.net/gampad/ads?iu=/146950391/Si1&description_url=[placeholder]&tfcd=0&npa=0&sz=640x480&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&correlator=${Date.now()}&nofb=1&vpmute=0&vpa=0&vad_format=linear&vpos=preroll&url=${encodeURIComponent(u.location.href)}`),s.setup(e),s.on("adMeta",(e=>{if(!G){let t={mediaData:{width:640,height:360}};try{if(e.response&&"function"===Je(e.response.querySelector)){let n=e.response,a=n.querySelector("AdSystem"),s=n.querySelector("MediaFile"),i=n.querySelector("AdParameters");if("adnxs"===a.textContent&&i&&i.textContent&&(t.extData=i.textContent),s&&"function"===Je(s.getAttribute)){let e=parseFloat(s.getAttribute("width")),n=parseFloat(s.getAttribute("height"));"number"===Je(e)&&(t.mediaData.width=e),"number"===Je(n)&&(t.mediaData.height=n)}}}catch(e){nn(e)}Dt(t)}})),s.on("beforePlay",(function(e,t){})),s.on("adLoaded",(()=>{s.play()})),s.on("viewable",(()=>{n&&(n=!1,s.play())})),s.on("adImpression",(()=>{s.pauseAd("paused"),n=!0,i.style.width="100%",qe(i)})),s.on("adBreakEnd",(()=>{_e||s.pause(!0),G&&qt()})),s.on("all",(function(){Yt(arguments)})),s.on("adError",(()=>{Te.length>0?Bt():(Ze(),g.style.display="none",t&&s.remove())}))})(o,n):Ze()},Nt=function(e,t,...n){if(e[t]||(e[t]=[]),"array"===Je(e[t])){let a=e[t];for(let e of n)if("array"===Je(e)){let[t,n,s=0,i=!1]=e;a.push({prop:t,value:n,prio:s,containerClass:i})}}},Rt=(e={})=>{for(let t in e){let n=e[t];if("array"===Je(n)&&n.length>0){f[t]||(f[t]={});let e=f[t];for(let{prop:t,value:a,prio:s=0,containerClass:i=!1}of n)(!e[t]||"object"===Je(e[t])&&s>e[t].prio)&&(e[t]={value:a,prio:s,containerClass:i})}}},Pt=e=>{let t=[];for(let n in f){let a=f[n],s=[],o=" ";for(let t in a){let{value:n,containerClass:i=!1}=a[t];!0!==i&&""!==e||(o=""),s.push(`${t}: ${n} !important`)}"__anchor__"===n&&(n=""),"__global__"===n&&(n="",e=`#${i.getAttribute("id")}`),"__body__"!==n?t.push(`${e}${o}${n}{${s.join(";")}}`):t.push(`body{${s.join(";")}}`)}return t},zt=(e,t)=>{if("object"===Je(e)&&"object"===Je(t)){for(let n in e){let a=e[n];("string"===Je(a)||"array"===Je(a))&&a.length>0&&(t[n]||(t[n]=[]),"array"===Je(a)?t[n].push(...a):t[n].push(a))}(()=>{let e=["wirr","rahc","outsStType","permutive"],n={};for(let a of e)t.hasOwnProperty(a)&&(n[a]=t[a]);for(let e in t)n.hasOwnProperty(e)||(n[e]=t[e]);t=n})()}},Ft=(e,t)=>{let n=()=>Object.keys(a).map((e=>{let t=[];return a[e].map((n=>{t.push(`${e}=${n}`)})),t.join(";")})).join(";"),a=(()=>{let e={...t};return zt(Oe,e),e})();switch(e){case"appnexus":return a;case"ast":return(()=>{let e=["wirr","rahc","outsStType","permutive"],t={global:{kw:{},l:0},slot:{kw:{},l:0}},n=(e,n)=>{let a;for(let e in t)t[e].l<=100&&!a&&(a=t[e]);a?(a.kw.hasOwnProperty(e)||(a.kw[e]=[]),-1===a.kw[e].indexOf(n)&&(a.kw[e].push(n),a.l++)):nn("parece que nos hemos quedado sin espacio para keyvalues")};for(let t of e){let e=a[t];for(let a of e)n(t,a)}for(let t in a)if(-1===e.indexOf(t)){let e=a[t];for(let a of e)n(t,a)}let{global:{kw:s,l:i},slot:{kw:o,l:r}}=t;return en({globalKw:s,globalKwLength:i,slotKw:o,slotKwLength:r}),{globalKw:s,slotKw:o}})();case"appnexusVast":return Object.keys(a).map((e=>`kw_${e}=${a[e].join()}`));case"smart":return Object.keys(a).map((e=>`${e}=${a[e].join()}`)).join(";");case"smartVast":case"richaudience":return n();case"richaudienceVast":return`kws=${encodeURIComponent(n())}`}},Ht=e=>{let t=u.__wmass.getSegments(),{keywords:n=!1}=Fe();"object"!==Je(t)&&(t={}),t.wirr||(t.wirr=[]),-1===t.wirr.indexOf("outxcon")&&t.wirr.push("outxcon");const a=[n,t,e];for(let e of a)zt(e,Oe)},Ut=e=>{let t={},n=Nt.bind(this,t),{adId:i,adUnitCode:r,bidderCode:l,ast:d=!1,trackers:c,width:p=640,height:m=360}=e,g=m/p*100+"%",f=u.document.getElementById(r),h=1,b=function(){let e=document.querySelector("iframe"),t=(t,a)=>{try{let s=!1;for(let n of t)if(n.addedNodes.length>0)for(let t of n.addedNodes)if("iframe"===t.nodeName.toLowerCase()){let n=t.getAttribute("id");"string"==typeof n&&n.indexOf("adm-banner")>-1&&(s=!0,e=t)}!0===s&&(a.disconnect(),n())}catch(e){console.log(e.message)}},n=()=>{try{let t=document.createElement("style"),n=`body{transform:scale(${window.ratio});transform-origin: 0 0;}`;t.setAttribute("type","text/css"),t.appendChild(document.createTextNode(n)),e.contentDocument.head.appendChild(t)}catch(e){console.log(e.message)}};try{if(e)n();else{new MutationObserver(t).observe(document.body,{childList:!0})}}catch(e){console.log(e.message)}},w=function(e){let{origin:t,source:n,data:a}=e;if(t.indexOf("adnxs")>-1||t.indexOf(location.host)>-1){let{action:e,values:t}=a;if("parallaxSet"===e&&(window.outThisisMe=t.thisisMe,window.outSource=n,window.parent.postMessage({action:e,key:key,values:[elementId]},"*")),"backgroundSet"===e&&window.outSource.postMessage({thisisMe:window.outThisisMe,values:t},"*"),"displayDimensionsSet"===e){let{width:e=640,height:n=360}=t,a=n/e*100+"%";console.log(`padding calculado: ${a}`),window.parent.__wmass.outstream.elems[jwElem].display(a)}}},y=(e,t)=>{let n=e;if("array"===Je(t))for(let{impression_urls:e}of t)if("array"===Je(e))for(let t of e)n=`<img src="${t}" style="width:0px;height:0px;display:none"/>\n${n}`;return`<!doctype html><html><head><style>iframe{position:absolute;width:100% !important;height:100% !important;}</style><script>window.ratio=${h};window.key="${N}";window.elementId="${r}";window.jwElem="${a}";${"appnexus"===l?`window.addEventListener("message",${w.toString()},false);`:""}<\/script></head><body style="margin:0px;padding:0px;"><script>${"adman"===l?`(${b.toString()})();`:""}<\/script>${n}</body></html>`};if(!f){let e=".wm-wrapper",t=".wm-media",n=".wm-aspect",a=ze("div",{Cn:[n]}),l=ze("div",{Cn:[t]});s=ze("div",{Cn:[e]}),o.appendChild(Ve(s,a,l)),d?l.setAttribute("id",i):(f=((e,t=!1,n=!1)=>{!1===n&&(n=o);let a=ze("iframe",{src:"about:blank",id:e,name:e,scrolling:"no",border:"no",Ct:"width:0px;height:0px;border:0px;"});if(n.appendChild(a),"string"===Je(t)){let e=a.contentWindow||a.contentDocument.document||a.contentDocument;e.document.open(),e.document.write(t),e.document.close()}return a})(r,!1,l),f.style.cssText="position: absolute;  top: 0;  left: 0;  width: 100%;  height: 0px;  border: 0px;"),A=`div${e}`,I=`div${t}`,E=`div${n}`,j=`iframe#${r}`,T=`${I} > iframe`,o.style.cssText="width: 100%;  height: 0px; position:relative;padding-bottom:0px;"+(ve?"":"transition:padding 0.5s;")}n(I,["position","absolute"],["top","0"],["left","0"],["width","100%"],["height","100%"],["bottom","0"],["right","0"]),n(A,["position","absolute"],["top","0"],["left","0"],["bottom","0"],["right","0"]),u.__wmass.outstream.elems[a]||(u.__wmass.outstream.elems[a]={}),u.__wmass.outstream.elems[a].display||(u.__wmass.outstream.elems[a].display=gt);let x=()=>{if(d){if("array"===Je(P.apntag.requests.tags[i].adResponse.ads))for(let e=0;e<P.apntag.requests.tags[i].adResponse.ads.length;e++)P.apntag.requests.tags[i].adResponse.ads[e].rtb.banner.content=y(P.apntag.requests.tags[i].adResponse.ads[e].rtb.banner.content),console.log(P.apntag.requests.tags[i].adResponse.ads[e].rtb.banner.content);P.apntag.anq.push((()=>{console.log("b4 showtagt"),P.apntag.showTag(i,u),console.log("after showtagt")}))}else{let t=f.contentWindow||f.contentDocument.document||f.contentDocument;e.ad=y(e.ad),pbjs.renderAd(t.document,i)}u.__wmass.outstream.elems[a].timer=setTimeout((()=>{u.__wmass.outstream.elems[a].display(g)}),2e3)};if(Rt(t),"adman"===l){let{width:e}=f.getBoundingClientRect();tn(`Width detectado = ${e}`),h=e/p}if(Me){new IntersectionObserver(((e,t)=>{for(let n of e)!0===n.isIntersecting&&(x(),t.unobserve(n.target))}),{root:null,rootMargin:`0px 0px ${g} 0px`,threshold:.5}).observe(o)}else x()},Jt=e=>{let{data:t={},origin:n,source:s}=e;if(t.key===N&&"object"===Je(t)&&t.elementId===a){let{que:e,data:n}=t;switch(e){case"passback":!0!==te&&Te.length>0?Bt():Ze();break;case"hayAnuncio":G||Dt(n);break;case"pintaReplay":G&&qt()}}},Wt=e=>{u.postMessage(e,"*")};u.__wmass||(u.__wmass={}),u.__wmass.p||(u.__wmass.p=N),u.__wmass.getSegments||(u.__wmass.getSegments=u.__wmass.getSegments||function(){let e={permutive:[]};try{let t=JSON.parse(window.localStorage._papns||"[]").slice(0,250).map(String),n=JSON.parse(window.localStorage._wmssrt||"[]").slice(0,250).map(String);t.length>0&&(e.permutive=t),n.length>0&&(e.wemassrt=n)}catch(e){pSegs=[],rtSegs=[]}return e}),u.__wmass.getPass||(u.__wmass.getPass=()=>u.__wmass.p),u.__wmass._testMode||(u.__wmass._testMode=(e={})=>{let t=Fe(),n="wmsstst",a=e=>{let t=["raPreviewMode=0; Max-Age=0; path=/; samesite=None; domain=.richaudience.com; secure","apn_prebid_debug=0; Max-Age=0; samesite=none; secure"];for(let e of t)document.cookie=e;!1===e?Xe(e,"B",n):Xe(JSON.stringify(e),"H",n)};if("object"===Je(e)){if("object"===Je(t))for(let n in t)e[n]||(e[n]=t[n]);let n={},s=!1,{enableLog:i=!1,enableXandrDebug:o=!1,enableSmartSkt:r=!1,enableWemass:l=!1,enableAmpExpand:d=!1,enableTestCreatives:c=!1,enableMoatTest:p=!1,enableFloat:u=!1,enableTestCreativesVideo:m=!1,enableTestCreativesDisplay:g=!1,enableTestDFPCreatives:f=!1,enablePrebid:h=!1,forceJwPlayer:b=!1,forceAMS:w=!1,forceAST:y=!1,enableTamTest:x=!1,passbackOrder:v=[],forcePassback:_,forceHash:k,forceConstraint:$,forceFirstPassback:S,forcePlayerRender:C,forceOmid:j=!1,enableMulti:T,enableMultiPass:A,enableMultiSlot:I,forceLimitMultiSlot:E,forceSchain:D}=e,L=["vast","googima","dai","freewheel"],M=["enabled","auto","disabled"],O=[!0,"info","log","warn","error","prebid"].indexOf(i);if(O>-1&&(s=!0,n.l1=O),"string"===Je(C)&&L.indexOf(C)>-1&&(s=!0,n.j1=C),"string"===Je(j)&&M.indexOf(j)>-1&&(s=!0,n.j2=j),!0===x&&(n.a2=!0),!0===w&&(n.a1=!0),!0===y&&(n.a3=!0),!0===o&&(n.lx=!0),!0===_&&(s=!0,n.p0=_),!0===l&&(s=!0,n.t1=l),!0===d&&(s=!0,n.m3=d),!0===D&&(s=!0,n.m6=D),!0===f&&(s=!0,n.t6=f),!0===c&&(s=!0,n.t2=c),!0===T&&(s=!0,n.m1=T),"string"===Je(I)){let e=parseInt(I);!isNaN(e)&&e>0&&(s=!0,n.m4=e)}if("string"===Je(E)){let e=parseInt(E);!isNaN(e)&&e>0&&(s=!0,n.m5=e)}if(!0===A&&(s=!0,n.m2=A),!0===p&&(s=!0,n.lm=p),"string"===Je(u)&&(s=!0,n.f1=u),"string"===Je(m)&&(s=!0,n.t2a=m),"string"===Je(g)&&(s=!0,n.t2b=g),"string"===Je(b)&&(s=!0,n.t5=b),!0===h&&(s=!0,n.t3=h),!0===$&&(s=!0,n.t9=$),"array"===Je(v)&&v.length>0&&(s=!0,n.t4=v),"string"===Je(S)&&(de[S]?"function"===Je(de[S])?(s=!0,n.p1=S):nn("existe la entrada para el passback pero no es una funcion."):tn("Se ha pasado un indice para el passback que no existe, se ignora. Se puede ignorar este mensaje")),"string"===Je(k)&&k.length>0&&(s=!0,n.t7=k),!0===r&&(s=!0,n.t8=!0),!0===s)return a(n),n}return!1===e&&a(!1),(()=>{let e=We(n);if("string"===Je(e))try{return JSON.parse(e)}catch(t){console.log(t,`error > valor de wmsstst = ${e}`)}return{}})()}),u.__wmass.logger||(u.__wmass.logger=(e="",t="")=>{let n,a,s,i,o=[],r=[],l=[],d=[],c=()=>{let e=new Date,t=e.getMilliseconds().toString();return`${e.toLocaleTimeString()}:${t.padStart(4,"0")}`},p=e=>{let t=ye.l1;return 0===t||t>=e};if(n=a=s=i=function(){},u.console){let m=`%cWemass${e}`,g=["display: inline-block; color: #fff; background: #92c01f; padding: 1px 4px; border-radius: 3px;",t];u.console.info&&(n=function(){let e=p(1),t=m+"%c INFO",n=[...g,"display: inline-block; color: #111 background: #e3e3e3; padding: 1px 4px; border-radius: 3px;"],a=Array.prototype.slice.call(arguments),s=[t,...n,c(),...a];if(e){for(;o.length>0;)o.shift()();console.info.apply(console,s)}else o.push(console.info.bind(console,...s))}),u.console.log&&(a=function(){let e=p(2),t=m+"%c LOG",n=[...g,"display: inline-block; color: #111 background: #3c3c3b; padding: 1px 4px; border-radius: 3px;"],a=Array.prototype.slice.call(arguments),s=[t,...n,c(),...a];if(e){for(;r.length>0;)r.shift()();console.log.apply(console,s)}else r.push(console.log.bind(console,...s))}),u.console.warn&&(s=function(){let e=p(3),t=m+"%c WARN",n=[...g,"display: inline-block; color: #111 background: orange; padding: 1px 4px; border-radius: 3px;"],a=Array.prototype.slice.call(arguments),s=[t,...n,c(),...a];if(e){for(;l.length>0;)l.shift()();console.warn.apply(console,s)}else l.push(console.warn.bind(console,...s))}),u.console.error&&(i=function(){let e=p(4),t=m+"%c ERROR",n=[...g,"display: inline-block; color: #111 background: red; padding: 1px 4px; border-radius: 3px;"],a=Array.prototype.slice.call(arguments),s=[t,...n,c(),...a];if(e){for(;d.length>0;)d.shift()();console.error.apply(console,s)}else d.push(console.error.bind(console,...s))})}return[n,a,s,i]}),u.__wmass[q]||(u.__wmass[q]={elems:{}}),l=u.__wmass[q];let Vt="disabled",Xt=(()=>{let e=u.location.href,t=u.location.search.replace("?",""),n=u.location.hostname,a=e.split("?")[0],s=s=>{let i=!1,o=!1,{canonicalUrl:r=!1,sourceUrl:l=!1,location:{href:d=!1}={}}=s;if("string"===Je(r)?i=r:"string"===Je(l)&&(i=l),"string"===Je(d)&&(o=d),!1!==i&&i.length>0&&(a=i),!1!==o&&o.length>0){let a=ze("a",{href:o});e=a.href,t=a.search.replace("?",""),n=a.hostname}};return ke&&"object"===Je(u.AMP_CONTEXT_DATA)?s(u.AMP_CONTEXT_DATA):"object"===Je($e)&&s($e),{url:a,href:e,search:t,domain:n}})(),Gt={},Kt=function(e){if(e.data&&e.data.key){let t=this.__wmass.getPass(),{data:n,origin:a,source:s}=e;if(n.key===t){let e,{values:a=[]}=n,[i,o={}]=a;switch(n.action){case"playad":e=this.jwplayer(i);let a=n=>{s.postMessage({elementId:i,key:t,que:"passback",data:n},"*"),e.remove()},r=n=>{let a={},o=t=>{let{height:n=16,width:a=9}=t;"number"===Je(n)&&"number"===Je(a)&&n>100&&(en({aspectratio:`${a}:${n}`}),e.setConfig({aspectratio:`${a}:${n}`})),e.off("resize",o)};try{if(n.response&&"function"===Je(n.response.querySelector)){let e=n.response,t=e.querySelector("AdSystem"),s=e.querySelector("AdParameters");"adnxs"===t.textContent&&s&&s.textContent&&(a.extData=JSON.parse(s.textContent))}}catch(e){nn(e)}"googima"===U&&e.on("resize",o),s.postMessage({elementId:i,key:t,que:"hayAnuncio",data:a},"*")},l=e=>{s.postMessage({elementId:i,key:t,que:"pintaReplay",data:e},"*")},d=function(e,t){};e.setup(o),"vast"===U?e.on("adMeta",r):e.on("adStarted",r),e.on("beforePlay",d.bind(this,i)),e.on("adBreakEnd",l),0===ye.l1&&e.on("all",(function(){Yt(arguments)})),e.on("adError",a);break;case"videoAspectRatio":e=this.jwplayer(i),e.setConfig({aspectratio:o});break;case"controls":if(e=this.jwplayer(i),e){let t=e.getContainer(),n=t.querySelector(v),a=t.querySelector(S),s=t.querySelector("svg.wm-playbutton"),i=t.querySelector(".wm-closebutton"),o=t.querySelector("div.wm-playbutton"),r=e=>{Yt(e);let{duration:t=!1,position:n=!1,type:s}=e,i=0;"adTime"===s?"number"===Je(t)&&"number"===Je(n)&&(i=n/t):"adComplete"===s&&(i=1);let o=i>.5?1:0,[r,l]=(e=>[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)])(i);a.setAttribute("d",`M 1 0 A 1 1 0 ${o} 1 ${r} ${l} L 0 0`)};o&&s&&(o.addEventListener("click",e.playToggle),s.addEventListener("click",(()=>{e.playToggle()})),e.on("adPlay",(()=>{o.classList.add("off"),s.classList.add("off")})),e.on("adPause",(()=>{o.classList.remove("off"),s.classList.remove("off")}))),i&&i.addEventListener("click",(()=>{e.skipAd(),e.remove()})),n.addEventListener("click",(t=>{e.setMute(),t.stopPropagation()})),e.on("adTime",r),e.on("adComplete",r)}break;case"setpassback":u.__wmass.outstream.elems[i]||(u.__wmass.outstream.elems[i]={}),u.__wmass.outstream.elems[i].dest||(u.__wmass.outstream.elems[i].dest=s),u.__wmass.outstream.elems[i].expecting=o,u.__wmass.outstream.elems[i].timestamp=Date.now();break;case"outstreampassback":if("object"===Je(u.__wmass.outstream.elems)){Date.now();for(let e in u.__wmass.outstream.elems){let{dest:a,expecting:s,timestamp:o}=u.__wmass.outstream.elems[e];s===i&&a.postMessage({elementId:e,key:t,que:"passback",data:n},"*")}}break;case"skipOffset":if(e=this.jwplayer(i),e){let t,n=e.getContainer(),a=n.querySelector(".wm_ext-skipOffset"),s=!0,i=o,r=o=>{try{!0===s&&(a.classList.remove("hidden"),t=a.offsetHeight/2,a.style.lineHeight=`${t}px`,a.style.fontSize=.9*t+"px",s=!1);let{duration:l=!1,position:d=!1,type:c}=o,p=parseInt(a.textContent),u=Math.round(i-d);if(i>l&&(i=.75*l,tn(`Duracion de offset mayor que duracion del video, cambiado a:${i}`)),d<=i)p!==u&&(a.textContent=u);else{n.offsetWidth<500&&a.classList.add("exgrid"),a.style.fontSize=.9*t+"px",t<30&&(a.style.paddingRight="2%!important",a.style.paddingLeft="2%!important"),a.textContent="Saltar Anuncio",a.classList.add("full"),e.off("adTime",r),a.addEventListener("click",(()=>{e.skipAd()}))}}catch(t){nn(t),e.off("adTime",r)}};e.on("adTime",r)}break;case"resizeMe":let[c,p]=o;"number"===Je(c)&&"number"===Je(p)&&(xt(!0),s.frameElement.style.width=`${c}px`,s.frameElement.style.height=`${p}px`,s.frameElement.parentNode.style.cssText="position:relative",s.frameElement.parentNode.parentNode.style.cssText="position: relative;display: flex;flex-direction: column;justify-content: center;width:100%;");break;case"parallaxSet":case"flowSet":let m,g=u.document.getElementById(i),f=!1,h={root:null,rootMargin:"0px",threshold:0},b=function(e=!1){let t=Math.max(u.document.documentElement.clientHeight,u.innerHeight||0),{height:n,top:a,bottom:i,width:o}=g.getBoundingClientRect();s.postMessage({action:"backgroundSet",values:{width:o,height:n,top:a,bottom:i,altoViewport:t}},"*")},w=()=>{f=De(b)},y=(e,t)=>{if(Me)for(let t of e)!0===t.isIntersecting?u.addEventListener("scroll",w,!1):(b(),u.removeEventListener("scroll",w,!1),!1!==f&&(Le(f),f=!1));else u.addEventListener("scroll",w,!1)};Me?(m=new IntersectionObserver(y,h),m.observe(g)):y()}}}}.bind(u),Qt=Object.keys(u.__wmass[q].elems),Zt=Qt.length,[Yt,en,tn,nn]=u.__wmass.logger(`%c${O?"Surf":"OutStream"}${!1===Z?"-"+Zt:""}`,`display: inline-block; color: #fff; background: #${O?"066":"306"}; padding: 1px 4px; border-radius: 3px;`);if(Yt("testando numero de placements"),ye=u.__wmass._testMode(),N=u.__wmass.getPass(),!0===ye.p0&&(te=!0),!0===ye.m1&&(Z=!1),ye.t5&&(ne=ye.t5),ye.m3&&(Ae=!0),ye.m6&&(pe=!0),"float"===ye.f1&&(B=!0),"full"===ye.f1&&(O=!0),ye.t7&&(oe=!0,d=ye.t7),ye.m4>0&&(Y=ye.m4),ye.m5>0&&(ee=ye.m5),!0===ye.t9&&(ve=ye.t9),!0===ye.a1&&(K=ye.a1),!0===ye.a3&&(Q=ye.a3),Ce.engines.pbjs={initEngine:ct,resolveEngine:pt},Q&&(Ce.engines.ast={initEngine:et,resolveEngine:tt,bidsOut:0,bidsIn:0}),K&&_e&&(Ce.engines.a9={initEngine:ut,resolveEngine:mt}),"object"===Je(P.__wmass)&&(Gt=P.__wmass.lcData||{}),a=`jw-${R.substring(R.length-5)}${M.substring(M.length-5)}`,(()=>{let e,t=!0,n="",s=(e=0)=>{let t={id:`${a}${e>0?`-multi${e}`:""}`},s=ze("div",{id:`${R}${e>0?`-multi${e}`:""}`,Ct:`position:relative;${n}`,"w-type":`${e>0?"multi-":""}${q}`}),r=ze("div",t);return s.appendChild(r),e>0?(W.push(s),V.push(r)):(i=s,o=r,l.elems[a]={ancla:i}),s};if(_e){let n,a=Object.keys(l.elems),i=!1,o=!1,d=">",c="p",p=2,m=()=>!1,g=()=>!1,f=Z,h=!1,b=(e,t,n=!1)=>{for(;"body"!==e.nodeName.toLowerCase()&&!n;){e=e.parentNode,n=Ne(e,t).length>0}return{currElement:e,padreEncontrado:n}},w=(e,t)=>{let n=Y+p-1,a=1;for(;a<ee&&n<t;)m(e[n])?n++:(e[n].parentNode.insertBefore(s(a),e[n].nextElementSibling),n+=Y,a++)},y=()=>{};if(b=(e,t,n=!1)=>{let a=e.ownerDocument.querySelectorAll("[itemprop='articleBody']"),s=e.ownerDocument.querySelector("article.columna-post"),r=e.ownerDocument.querySelectorAll("span.intext-md:not([w-consumed])"),l=e.ownerDocument.querySelectorAll("span.intext-xs:not([w-consumed])");if(r.length>0||l.length>0){let t;i=!0,n=!0,t=!0===Ee?l:r;let a=t.length-1;a>=0?(e=t[a]).hasAttribute("w-constraint")&&(e=e.parentNode,ve=!0,originalOustreamDimensions=e.getBoundingClientRect(),o=!0):F="No hay huecos de outstream sin ocupar"}else if(s){let a=(e=s).querySelectorAll(t);d="",n=a.length>0}else{e=a[a.length-1],n=Ne(e,t).length>0}return{currElement:e,padreEncontrado:n}},g=()=>!!u.document.querySelector(".ev-open-modal-paywall-REQUIRE_LOGIN")&&"paywall Active no intext",F=g(),t=!f||f&&0===a.length,!1===F&&t){if("function"!==Je(b))throw new Error("Alguna configuracion de las estrategias se está cargando la funcion que comprueba si se ha de pintar el iframe");{let{currElement:a,padreEncontrado:l}=b(r,c);if(l)if(!0===i)a?e=o?()=>{a.appendChild(s()),a.setAttribute("w-consumed",""),Y>0&&y(a)}:()=>{a.parentNode.insertBefore(s(),a),a.setAttribute("w-consumed",""),Y>0&&y(a)}:t=!1;else{n=a.getBoundingClientRect();let i="";i=">"===d?Ne(a,c):a.querySelectorAll(`${c}`);let o=i.length;if(o===p)m(i[o-1])?t=!1:h?F="Outstream en ultimo lugar":e=()=>i[0].parentNode.appendChild(s());else if(o>p){if(m(i[p-1])){t=!1;do{p++,!1===m(i[p-1])&&(t=!0,o===p&&(h?F="Outstream en ultimo lugar":e=()=>i[0].parentNode.appendChild(s())))}while(p<o&&!t)}t&&!e&&(e=()=>{i[p-1].parentNode.insertBefore(s(),i[p-1].nextElementSibling),Y>0&&Y<o-p&&w(i,o)})}else t=!1}}}}else{let t=document.querySelector("script[src*='fc5edf416bfe99245fffa46a0a6409ae']"),n={id:"ampContainer"};if(Ae&&(n.Ct="display:inline-block;width:100%;min-height:300px;"),g=ze("div",n),t&&"html"===Je(t.parentNode)?t.parentNode.appendChild(g):u.document.body.appendChild(g),Ae){en("Register de auto expand");let e=ze("style",{St:"body{position:absolute;width:100%;height:100%;top:50%;left:50%;margin-right:-50%;transform:translate(-50%, -50%);}"});g.appendChild(e),qe(g)}e=()=>document.getElementById("ampContainer").appendChild(s())}"function"!==Je(e)&&"string"!==Je(F)&&(F="No se ha encontrado una posicion correcta para posicionar el video"),!1===F&&(!0===t?(e(),V.length>0&&Me&&(en("Setting Lazy for multislot."),Ot())):Ze())})(),!1===F)try{let e=!0;if(Zt>0&&!0===Z&&(e=!1),Zt>0&&!0===B){let e=Qt[0],t=u.__wmass[q].elems[e];if(u.jwplayer&&!t.floatingCancelled){u.jwplayer(e).setFloating(!1),t.floatingCancelled=!0}B=!1}u.addEventListener("message",Kt),te&&Re(),P.addEventListener("message",Jt),!ne||!0===te||!0===te&&!0==!ye.t1?Ze():(Re(),_e?e&&(()=>{if(u.__cmp||u.__tcfapi){if(u.__wmass.consentData||(u.__wmass.consentData={}),p=u.__wmass.consentData,u.__tcfapi){xe=2;let e=(e,t)=>{t?(en(`TCF v2 eventListener executed, eventStatus: ${e.eventStatus}`),en(`TCF v2 tcdataString disponible: ${e.tcString}`),"string"===Je(e.tcString)&&e.tcString.length>0&&(p.getTCData=e,u.__tcfapi("removeEventListener",2,(e=>{e&&en("TCF v2 event removed")}),e.listenerId),Ke(!0))):Ke()};u.__tcfapi("addEventListener",2,e)}else u.__cmp&&(xe=1,p.getConsentData||u.__cmp("getConsentData",null,(e=>{p.getConsentData=e,Ke(!0)})),p.getVendorConsents||u.__cmp("getVendorConsents",null,(e=>{p.getVendorConsents=e,Ke(!0)})));c=setTimeout((()=>Ke),2e3)}else Ke()})():Ke())}catch(e){nn(e.message),Ze()}else tn(`parada ejecucion por ${F}`)}();
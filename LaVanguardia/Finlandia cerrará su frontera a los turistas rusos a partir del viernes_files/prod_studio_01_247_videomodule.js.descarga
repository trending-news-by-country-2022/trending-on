self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();/*Copyright The Closure Library Authors.SPDX-License-Identifier: Apache-2.0*/var to=function(a){return(a=a.exec(yc))?a[1]:\"\"};(function(){if($g)return to(/Firefox\\/([0-9.]+)/);if(Pc||Qc||Oc)return Zc;if(dh){if(Kc()||A(\"Macintosh\")){var a=to(/CriOS\\/([0-9.]+)/);if(a)return a}return to(/Chrome\\/([0-9.]+)/)}if(eh&&!Kc())return to(/Version\\/([0-9.]+)/);if(ah||bh){if(a=/Version\\/(\\S+).*Mobile\\/(\\S+)/.exec(yc))return a[1]+\".\"+a[2]}else if(ch)return(a=to(/Android\\s+([0-9.]+)/))?a:to(/Version\\/([0-9.]+)/);return\"\"})();var uo={},vo=/OS (\\S+) like/,wo=/Android (\\S+);/;function xo(a,b){null==uo[b]&&((a=a.exec(yc))?(a=a[1].replace(/_/g,\".\"),uo[b]=0<=ac(a,b)):uo[b]=!1);return uo[b]};var yo=function(){K.call(this);this.l=this.o=this.j=!1;this.h=0;this.v=[];this.C=!1};k(yo,K);var zo=function(a,b){null==b||a.j||(a.g=b,a.F=!ah&&!bh,a.D=ah||bh,a.F?a.g.addEventListener(\"click\",v(a.A,a),!1):a.D&&(a.g.addEventListener(\"touchstart\",v(a.M,a),!1),a.g.addEventListener(\"touchmove\",v(a.G,a),!1),a.g.addEventListener(\"touchend\",v(a.K,a),!1)),a.j=!0)},Ao=function(a){null!=a.g&&a.j&&(a.j=!1,a.F?a.g.removeEventListener(\"click\",v(a.A,a),!1):a.D&&(a.g.removeEventListener(\"touchstart\",v(a.M,a),!1),a.g.removeEventListener(\"touchmove\",v(a.G,a),!1),a.g.removeEventListener(\"touchend\",v(a.K,a),!1)))};yo.prototype.M=function(a){this.o=!0;this.h=a.touches.length;this.C=Bo(this,a.touches)||1!=a.touches.length;a=a.touches;this.v=[];for(var b=0;b<a.length;b++)this.v.push(a[b].identifier)};yo.prototype.G=function(a){this.l=!0;this.h=a.touches.length};yo.prototype.K=function(a){this.o&&1==this.h&&!this.l&&!this.C&&Bo(this,a.changedTouches)&&this.dispatchEvent(new Zf(\"click\"));this.h=a.touches.length;0==this.h&&(this.l=this.o=!1)};yo.prototype.A=function(){this.dispatchEvent(new Zf(\"click\"))};var Bo=function(a,b){for(var c=0;c<b.length;c++)if(a.v.includes(b[c].identifier))return!0;return!1};var Co=function(a){Zf.call(this,a)};k(Co,Zf);var Do=function(){K.call(this)};k(Do,K);var Eo=function(){K.call(this);this.l=new G;this.v=new yo;this.A=\"none\"};k(Eo,K);Eo.prototype.B=function(){Fo(this);K.prototype.B.call(this)};var Fo=function(a){null!=a.h&&a.h.dispose();null!=a.o&&a.o.dispose();null!=a.g&&Go(a.g);Wf(a.l);Ao(a.v)},Y=function(a,b,c){c&&null!=a.l.get(b)||(a.l.set(b,!0),a.dispatchEvent(new Co(b)))},Ho=function(a,b){null!=a.l.get(b)&&(a=a.l,Vf(a.h,b)&&(delete a.h[b],--a.size,a.j++,a.g.length>2*a.size&&Uf(a)))};h=Eo.prototype;h.qd=function(){a:{var a=this.g;if(a.g.seeking&&!a.o)a.o=!0,a.v=Io(a);else{if(!a.g.seeking&&a.o){a.o=!1;var b=0!=a.g.currentTime&&a.g.currentTime<a.v;a.v=-1;break a}if(!a.g.seeking&&0!=a.g.currentTime&&Io(a)>a.g.currentTime){b=.5<Io(a)-a.g.currentTime;break a}}b=!1}a=Jo(this.g);if(b&&(Y(this,\"rewind\",!1),-1!=a)){Io(this.g)>=.75*a||Ho(this,\"thirdquartile\");Io(this.g)>=.5*a||Ho(this,\"midpoint\");Io(this.g)>=.25*a||Ho(this,\"firstquartile\");a:{b=this.g;for(var c=b.j.W(),d=c.length-1;0<=d;d--)if(.5>c[d]){c=b.j;c=0==c.ha()?null:c.get(c.ha()-1);d=b.j;d.g.length=0;d.h=0;.5<=c&&b.j.add(c);b=!0;break a}b=!1}b&&Y(this,\"replay\",!1)}-1!=a&&(Io(this.g)>=.25*a&&Y(this,\"firstquartile\",!0),Io(this.g)>=.5*a&&Y(this,\"midpoint\",!0),Io(this.g)>=.75*a&&Y(this,\"thirdquartile\",!0))};h.pd=function(){Y(this,\"creativeview\",!0);null!=this.C?(M(this.h,this.v,\"click\",this.ld,!1),zo(this.v,this.C)):M(this.h,this.g,\"click\",this.Ce,void 0);Y(this,\"start\",!0);(this.g.g.muted||0==this.g.g.volume)&&Y(this,\"mute\",!1)};h.rd=function(){var a=this.g.g.muted,b=this.g.g.volume,c=this.j;c.h&&!a||!a&&0==c.volume&&0<b?Y(this,\"unmute\",!1):this.j.muted(a,b)&&Y(this,\"mute\",!1);this.j.h=a;this.j.volume=b};h.od=function(){if(this.g.g.ended)Y(this,\"complete\",!0);else{var a;if(a=\"pausedAtBeginning\"==this.A)a=this.g,a=!isNaN(a.g.duration)&&0<a.g.duration&&0==a.g.currentTime;a?Y(this,\"stop\",!0):Ko(this.g)&&!this.g.g.seeking&&(this.j.paused=!0,Y(this,\"pause\",!1))}};h.Be=function(){this.j.paused&&(this.j.paused=!1,Y(this,\"resume\",!1))};h.md=function(){var a=this.g;if(!ch||ch&&xo(wo,2.3))a=!0;else{var b=a.g.duration-Io(a);a=0==a.g.currentTime&&1.5>=b}a?\"pausedAtEnd\"==this.A&&Ko(this.g)?Y(this,\"stop\",!0):Y(this,\"complete\",!0):this.g.pause()};h.ld=function(){Y(this,\"click\",!1)};h.nd=function(){Y(this,\"error\",!1)};h.Ce=function(){Y(this,\"click\",!1)};h.bc=function(){this.j.g=!0;Y(this,\"fullscreen\",!1)};h.ac=function(){this.j.g=!1};h.Ae=function(){var a=Lo(this.g),b=Mo(this.g),c=this.j;if(a.width!=c.width||a.height!=c.height)!this.j.g&&b?this.bc():this.j.g&&!b&&this.ac(),this.j.width=a.width,this.j.height=a.height};var No=function(a){this.width=Lo(a).width;this.height=Lo(a).height;this.paused=!1;this.h=a.g.muted;this.g=Mo(a);this.volume=a.g.volume};No.prototype.muted=function(a,b){return!this.h&&a||0<this.volume&&0==b};var Oo=function(){this.h=0;this.g=[]};h=Oo.prototype;h.add=function(a){var b=this.g[this.h];this.g[this.h]=a;this.h=(this.h+1)%4;return b};h.get=function(a){a=Po(this,a);return this.g[a]};h.set=function(a,b){a=Po(this,a);this.g[a]=b};h.ha=function(){return this.g.length};h.W=function(){var a=this.ha(),b=this.ha(),c=[];for(a=this.ha()-a;a<b;a++)c.push(this.get(a));return c};h.Da=function(){for(var a=[],b=this.ha(),c=0;c<b;c++)a[c]=c;return a};h.ga=function(a){return a<this.ha()};h.Sa=function(a){for(var b=this.ha(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};var Po=function(a,b){if(b>=a.g.length)throw Error(\"Out of bounds exception\");return 4>a.g.length?b:(a.h+Number(b))%4};var Qo=function(a){K.call(this);this.g=a;this.j=new Oo;this.v=-1;this.A=this.o=!1};k(Qo,Do);var Jo=function(a){return isNaN(a.g.duration)?-1:a.g.duration};Qo.prototype.play=function(){Hg(this.g.play,0,this.g)};Qo.prototype.pause=function(){this.g.pause()};var Ko=function(a){return a.g.paused?ah||bh||dh?a.g.currentTime<a.g.duration:!0:!1},Mo=function(a){return ah?a.g.webkitSupportsFullscreen&&a.g.webkitDisplayingFullscreen:a.g.offsetWidth>=document.body.offsetWidth&&a.g.offsetHeight>=document.body.offsetHeight},Io=function(a){for(a=a.j.W();a.length;){var b=a.pop();if(0<b)return b}return-1},Lo=function(a){return new ed(a.g.offsetWidth,a.g.offsetHeight)};Qo.prototype.B=function(){Do.prototype.B.call(this);Go(this)};var Go=function(a){null!=a.l&&(Ao(a.l),a.l=null);null!=a.h&&(a.h.dispose(),a.h=null);a.v=-1;a.A=!1;a.o=!1;a=a.j;a.g.length=0;a.h=0},Ro=function(a,b){a.A||(a.A=!0,a.dispatchEvent(\"start\"),!ch&&(!ah||(ah||bh)&&xo(vo,4))||a.cc(b))};h=Qo.prototype;h.ze=function(){eh&&(this.g.currentTime=.001)};h.Nc=function(a){this.dispatchEvent(\"play\");ah||bh||Ro(this,a)};h.yd=function(a){this.A||((ah||bh)&&0<this.g.currentTime&&Ro(this,a),Sc&&this.Nc(a));this.j.add(this.g.currentTime);this.dispatchEvent(\"timeUpdate\")};h.zd=function(){this.dispatchEvent(\"volumeChange\")};h.xd=function(){this.dispatchEvent(\"pause\")};h.ud=function(){this.dispatchEvent(\"end\")};h.cc=function(){this.dispatchEvent(\"beginFullscreen\")};h.wd=function(){this.dispatchEvent(\"endFullscreen\")};h.vd=function(){this.dispatchEvent(\"error\")};h.sd=function(){this.dispatchEvent(\"click\")};var So=function(a){this.A=a;this.s=this.l=!0;this.j=new Eo;this.j.A=\"pausedAtBeginning\";this.o=this.g=this.h=null;lk(v(this.X,this))},Uo=function(a){var b=To.get(a);null==b&&(b=new So(a),To.set(a,b));return b};So.prototype.X=function(a){this.g=a;Vo(this)};var Vo=function(a){Wo(a,!1);Wo(a,!0);if(null!=a.g&&null!=a.o){var b=a.j,c=a.h;Fo(b);b.g=c;c=b.g;Go(c);c.h=new L(c);M(c.h,c.g,\"canplay\",c.ze,void 0);M(c.h,c.g,\"ended\",c.ud,void 0);M(c.h,c.g,\"webkitbeginfullscreen\",c.cc,void 0);M(c.h,c.g,\"webkitendfullscreen\",c.wd,void 0);M(c.h,c.g,\"pause\",c.xd,void 0);M(c.h,c.g,\"playing\",c.Nc,void 0);M(c.h,c.g,\"timeupdate\",c.yd,void 0);M(c.h,c.g,\"volumechange\",c.zd,void 0);M(c.h,c.g,\"error\",c.vd,void 0);c.l=new yo;M(c.h,c.l,\"click\",c.sd,!1);zo(c.l,c.g);b.j=new No(b.g);b.C=null;b.h=new L(b);M(b.h,b.g,\"timeUpdate\",b.qd,!1);M(b.h,b.g,\"volumeChange\",b.rd,!1);M(b.h,b.g,\"pause\",b.od,!1);M(b.h,b.g,\"play\",b.Be,!1);M(b.h,b.g,\"end\",b.md,!1);M(b.h,b.g,\"beginFullscreen\",b.bc,!1);M(b.h,b.g,\"endFullscreen\",b.ac,!1);M(b.h,b.g,\"start\",b.pd,!1);M(b.h,b.g,\"error\",b.nd,!1);b.o=new Fg(1E3);M(b.h,b.o,\"tick\",b.Ae,!1,b);b.o.start();a.h.Ia(\"timeUpdate\",a.cd,!1,a);a.o.paused?a.j.Ia(\"start\",a.qb,!1,a):a.qb()}},Wo=function(a,b){Xo(a,b,\"resume\",a.qb);Xo(a,b,\"replay\",a.Je);Xo(a,b,\"pause\",a.Ee);Xo(a,b,\"stop\",a.Xe);Xo(a,b,\"mute\",a.we);Xo(a,b,\"unmute\",a.bf);Xo(a,b,\"firstquartile\",a.Sd);Xo(a,b,\"midpoint\",a.ve);Xo(a,b,\"thirdquartile\",a.Ze);Xo(a,b,\"complete\",a.Kd)},Xo=function(a,b,c,d){(b?a.j.Ia:a.j.Pa).call(a.j,c,d,!1,a)};h=So.prototype;h.qb=function(){this.j.Pa(\"start\",this.qb,!1,this);this.g.dispatchEvent(new N(\"videoStart\"));Yo(this,\"play\",!this.v);Zo(this,\"Start\");this.v=!1;null!=this.g&&this.s&&!this.F&&(this.g.A(),this.F=!0)};h.Je=function(){Yo(this,\"replay\",!0);Zo(this,\"Stop\");this.l=!1};h.Ee=function(){Yo(this,\"pause\",!0);Zo(this,\"Stop\")};h.Xe=function(){Yo(this,\"stop\",!0);Zo(this,\"Stop\");this.l=!1};h.we=function(){Yo(this,\"mute\",!this.v)};h.bf=function(){Yo(this,\"unmute\",!this.v)};h.Sd=function(){Yo(this,\"firstquartile\")};h.ve=function(){Yo(this,\"midpoint\")};h.Ze=function(){Yo(this,\"thirdquartile\")};h.Kd=function(){Yo(this,\"complete\");Zo(this,\"Stop\");this.l=!1;null!=this.g&&this.s&&!this.C&&(this.g.A(),this.C=!0)};h.cd=function(a){var b=this.A;a=\"EVENT_VIDEO_\"+a.type.toUpperCase();O(this.g.H,\"updateVideoProgress\",[a,Jo(this.h),this.h.g.currentTime]);E.info('Video \"'+b+'\" dispatching \"'+a+'\" event.')};var Yo=function(a,b,c){null!=a.g&&a.s&&(c&&a.g.U(\"Count\",a.A,\"EVENT_VIDEO_INTERACTION\"),a.g.U(\"Count\",a.A,\"EVENT_VIDEO_\"+b.toUpperCase()))},Zo=function(a,b){null!=a.g&&a.s&&a.l&&a.g.U(b,a.A,\"EVENT_VIDEO_VIEW_TIMER\")},To=new G;So.prototype.F=!1;So.prototype.C=!1;So.prototype.v=!0;var $o={},ap=function(a){I.call(this);this.h=a;this.j={};this.g=null;lk(v(this.l,this))};k(ap,I);ap.prototype.l=function(a){this.g=a;this.g.Dc(this.h)};ap.prototype.B=function(){for(var a in this.j)this.h[a]=this.j[a];I.prototype.B.call(this)};q(\"studio.video.Reporter\",ap,void 0);var cp=function(a,b,c){var d=Uo(a);\"boolean\"===typeof c&&(d.v=c);Fo(d.j);d.l=!0;d.s=!0;d.o=b;d.h=new Qo(d.o);Vo(d);bp.ga(a)||bp.set(a,new ap(b))};q(\"studio.video.Reporter.attach\",cp,void 0);var dp=function(a){a=Uo(a);null==a.h||Ko(a.h)||a.h.g.ended||(Yo(a,\"stop\",!1),Zo(a,\"Stop\"),a.l=!1);Wo(a,!1);a.s=!1;a.o=null;Fo(a.j);a.h&&(a.h.Pa(\"timeUpdate\",a.cd,!1,a),a.h.dispose())};q(\"studio.video.Reporter.detach\",dp,void 0);var bp=new G;var ep=function(){};var fp,gp=function(){};x(gp,ep);var hp=function(a){a:{if(!a.g&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);var e=a.g=d;break a}catch(f){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}e=a.g}return(a=e)?new ActiveXObject(a):new XMLHttpRequest};fp=new gp;var jp=function(a,b){b=b?Cb(b):{};b.responseType=\"blob\";return ip(\"GET\",a,b).then(function(c){return c.response})},ip=function(a,b,c){var d=c||{},e=d.jf?hp(d.jf):hp(fp);return kf(new Ze(function(f,g){var l;try{e.open(a,b,!0)}catch(r){g(new kp(\"Error opening XHR: \"+r.message,b,e))}e.onreadystatechange=function(){if(4==e.readyState){p.clearTimeout(l);a:switch(e.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break a;default:r=!1}!r&&(r=0===e.status)&&(r=b.match(Ed)[1]||null,!r&&p.self&&p.self.location&&(r=p.self.location.protocol,r=r.substr(0,r.length-1)),r=r?r.toLowerCase():\"\",r=!(\"http\"==r||\"https\"==r||\"\"==r));r?f(e):g(new lp(e.status,b,e))}};e.onerror=function(){g(new kp(\"Network error\",b,e))};if(d.headers){for(var m in d.headers){var n=d.headers[m];null!=n&&e.setRequestHeader(m,n)}n=d.headers[\"Content-Type\"]}m=p.FormData&&!1;\"POST\"!=a||void 0!==n||m||e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");d.withCredentials&&(e.withCredentials=d.withCredentials);d.responseType&&(e.responseType=d.responseType);d.mimeType&&e.overrideMimeType(d.mimeType);0<d.$e&&(l=p.setTimeout(function(){e.onreadystatechange=t;e.abort();g(new mp(b,e))},d.$e));try{e.send(null)}catch(r){e.onreadystatechange=t,p.clearTimeout(l),g(new kp(\"Error sending XHR: \"+r.message,b,e))}}),function(f){f instanceof lf&&e.abort();throw f;})},kp=function(a,b){Oa.call(this,a+\", url=\"+b);this.url=b};x(kp,Oa);kp.prototype.name=\"XhrError\";var lp=function(a,b,c){kp.call(this,\"Request Failed, status=\"+a,b,c);this.status=a};x(lp,kp);lp.prototype.name=\"XhrHttpError\";var mp=function(a,b){kp.call(this,\"Request timed out\",a,b)};x(mp,kp);mp.prototype.name=\"XhrTimeoutError\";q(\"studio.sdk.video.VideoResource.getBlobForUrl\",function(a){return mk().then(function(b){b=b.Ta(a);\"file:\"==window.location.protocol?b=ef(Error(\"You cannot fetch the blob of a video when running locally. Run a local web server to test this creative (For example, python -m SimpleHTTPServer).\")):Zb(b,\"/itag/\")?(Zb(b,\"/itag/\")&&!Zb(b,\"/alr/yes/\")&&(b=b.split(\"/\"),b.splice(b.length-2,0,\"alr\",\"yes\"),b=b.join(\"/\")),b=np(b).then(jp)):b=jp(b);return b})},void 0);function np(a){return ip(\"HEAD\",a).then(function(b){return op(b)?ip(\"GET\",a).then(function(c){return np(c.response)}):a})}function op(a){a=a.getResponseHeader(\"Content-Type\")||\"\";return Zb(a,\"text/plain\")};");
